import{r as p,j as e}from"./vendor-ui-Cj-e85pn.js";import{c as v,R as x,B as l,C as n,f as C,t as u}from"./index-Dfmm_0fk.js";import{I as m}from"./input-C8BfD-fZ.js";import{L as d}from"./label-E-yG1832.js";import{D as w,d as z,a as S,b as B,c as R,e as A}from"./dialog-a2Tqj8Rw.js";import{P as f}from"./plus-ByopEecX.js";import{C as N}from"./calendar-DnM3bZYU.js";import{D as j}from"./dollar-sign-CW2DTKbE.js";import{M as E}from"./map-pin-CCHMR_wH.js";import{C as M}from"./clock-BVflGt2w.js";import{S as O}from"./square-pen-KR7LHjLJ.js";import{T as P}from"./trash-2-BzGHQQ7Y.js";import"./vendor-react-7PqXWhc5.js";import"./vendor-utils-MHJ_mICC.js";import"./vendor-supabase-BfzcFBqZ.js";import"./vendor-animation-BozBRtxF.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],W=v("pause",F);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],_=v("play",L);function ie(){const[c,h]=p.useState([{id:"1",name:"Morning Commute to Work",from:"Dubai Marina",to:"Business Bay",days:["Mon","Tue","Wed","Thu","Fri"],time:"08:00",price:35,active:!0,nextOccurrence:new Date(Date.now()+864e5),totalBookings:24},{id:"2",name:"Weekend Abu Dhabi Trip",from:"Dubai",to:"Abu Dhabi",days:["Sat"],time:"10:00",price:120,active:!0,nextOccurrence:new Date(Date.now()+1728e5),totalBookings:8},{id:"3",name:"Evening Return Home",from:"Business Bay",to:"Dubai Marina",days:["Mon","Tue","Wed","Thu","Fri"],time:"18:00",price:35,active:!1,nextOccurrence:new Date(Date.now()+864e5),totalBookings:20}]),[y,o]=p.useState(!1),[i,t]=p.useState({name:"",from:"",to:"",days:[],time:"",price:0}),g=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],b=s=>{h(a=>a.map(r=>r.id===s?{...r,active:!r.active}:r)),u.success("Recurring trip updated")},D=s=>{confirm("Are you sure you want to delete this recurring trip?")&&(h(a=>a.filter(r=>r.id!==s)),u.success("Recurring trip deleted"))},T=s=>{t(a=>({...a,days:a.days.includes(s)?a.days.filter(r=>r!==s):[...a.days,s]}))},k=()=>{if(!i.name||!i.from||!i.to||i.days.length===0){u.error("Please fill in all required fields");return}const s={id:Date.now().toString(),...i,active:!0,nextOccurrence:new Date(Date.now()+864e5),totalBookings:0};h([...c,s]),o(!1),t({name:"",from:"",to:"",days:[],time:"",price:0}),u.success("Recurring trip created!")};return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:"size-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{children:"Recurring Trips"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your scheduled commutes and regular trips"})]})]}),e.jsxs(w,{open:y,onOpenChange:o,children:[e.jsx(z,{asChild:!0,children:e.jsxs(l,{children:[e.jsx(f,{className:"size-4 mr-2"}),"New Schedule"]})}),e.jsxs(S,{className:"max-w-2xl",children:[e.jsxs(B,{children:[e.jsx(R,{children:"Create Recurring Trip"}),e.jsx(A,{children:"Set up a schedule for regular commutes or trips"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Trip Name"}),e.jsx(m,{placeholder:"e.g., Morning Commute to Work",value:i.name,onChange:s=>t({...i,name:s.target.value})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"From"}),e.jsx(m,{placeholder:"Starting location",value:i.from,onChange:s=>t({...i,from:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"To"}),e.jsx(m,{placeholder:"Destination",value:i.to,onChange:s=>t({...i,to:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Repeat on"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:g.map(s=>e.jsx("button",{type:"button",onClick:()=>T(s),className:`px-4 py-2 rounded-lg transition-colors ${i.days.includes(s)?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/70"}`,children:s},s))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Departure Time"}),e.jsx(m,{type:"time",value:i.time,onChange:s=>t({...i,time:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Price per Trip (AED)"}),e.jsx(m,{type:"number",placeholder:"0",value:i.price||"",onChange:s=>t({...i,price:Number(s.target.value)})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(l,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(l,{onClick:k,children:"Create Schedule"})]})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(x,{className:"size-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-semibold",children:c.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Schedules"})]})]})}),e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-full bg-secondary/10 flex items-center justify-center",children:e.jsx(N,{className:"size-5 text-secondary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-semibold",children:c.reduce((s,a)=>s+a.totalBookings,0)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Bookings"})]})]})}),e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-full bg-accent/10 flex items-center justify-center",children:e.jsx(j,{className:"size-5 text-accent"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-semibold",children:[c.reduce((s,a)=>s+a.totalBookings*a.price,0)," AED"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Earnings"})]})]})})]}),e.jsx("div",{className:"space-y-4",children:c.length===0?e.jsx(n,{className:"p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(x,{className:"size-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-muted-foreground mb-2",children:"No recurring trips yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a schedule for your regular commutes to save time"}),e.jsxs(l,{onClick:()=>o(!0),children:[e.jsx(f,{className:"size-4 mr-2"}),"Create Your First Schedule"]})]})}):c.map(s=>e.jsx(n,{className:`p-6 ${s.active?"":"opacity-60"}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{children:s.name}),e.jsx(C,{variant:s.active?"default":"outline",children:s.active?"Active":"Paused"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"size-4"}),e.jsxs("span",{children:[s.from," â†’ ",s.to]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"size-4"}),e.jsx("span",{children:s.time})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"size-4"}),e.jsxs("span",{children:[s.price," AED"]})]})]})]})}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:g.map(a=>e.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${s.days.includes(a)?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:a},a))}),e.jsxs("div",{className:"flex gap-6 pt-2 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Next Trip"}),e.jsx("p",{className:"text-sm font-semibold",children:s.nextOccurrence.toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Bookings"}),e.jsx("p",{className:"text-sm font-semibold",children:s.totalBookings})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Earned"}),e.jsxs("p",{className:"text-sm font-semibold",children:[s.totalBookings*s.price," AED"]})]})]})]}),e.jsxs("div",{className:"flex md:flex-col gap-2",children:[e.jsx(l,{variant:"outline",size:"sm",onClick:()=>b(s.id),children:s.active?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"size-4 md:mr-2"}),e.jsx("span",{className:"hidden md:inline",children:"Pause"})]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"size-4 md:mr-2"}),e.jsx("span",{className:"hidden md:inline",children:"Resume"})]})}),e.jsxs(l,{variant:"outline",size:"sm",children:[e.jsx(O,{className:"size-4 md:mr-2"}),e.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>D(s.id),children:[e.jsx(P,{className:"size-4 md:mr-2"}),e.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]})},s.id))}),e.jsxs(n,{className:"p-6 bg-muted/50",children:[e.jsx("h3",{className:"mb-3",children:"Tips for Recurring Trips"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"size-4 text-primary mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Set up recurring trips for your daily commute to save time on booking"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(j,{className:"size-4 text-secondary mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Offer subscription-based pricing for regular passengers"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(x,{className:"size-4 text-accent mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"You can pause or modify schedules anytime without canceling"})]})]})]})]})}export{ie as RecurringTrips};
