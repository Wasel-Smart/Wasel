import{j as e,r as g}from"./vendor-ui-S1-b02vM.js";import{c as v,a as L,u as T,B as u,C as B,b as D,L as E,d as V,e as W,f as G,t as l}from"./index-C4myuZdd.js";import{I as c}from"./input-B6A87FZ6.js";import{L as i}from"./label-BRQac6GQ.js";import{T as $,a as O,b,c as w}from"./tabs-B9Xs08FN.js";import{a as R}from"./vendor-utils-Drrw94dm.js";import{S as U}from"./smartphone-BQgG8q0v.js";import"./vendor-react-7PqXWhc5.js";import"./vendor-supabase-DCWnlmhc.js";import"./vendor-animation-BozBRtxF.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],K=v("arrow-left",J);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],f=v("lock-keyhole",Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],k=v("mail-check",Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],C=v("octagon-alert",X),Z=R("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function A({className:n,variant:x,...j}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:L(Z({variant:x}),n),...j})}function F({className:n,...x}){return e.jsx("div",{"data-slot":"alert-description",className:L("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...x})}function de({onSuccess:n,onBack:x,initialTab:j="signup"}){const{signUp:S,signIn:P,signInWithGoogle:M,signInWithFacebook:H}=T(),[o,r]=g.useState(!1),[p,t]=g.useState(""),[a,d]=g.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),[m,y]=g.useState({email:"",password:""}),I=async s=>{if(s.preventDefault(),t(""),a.password!==a.confirmPassword){t("Passwords do not match");return}if(a.password.length<6){t("Password must be at least 6 characters");return}r(!0);try{const h=`${a.firstName} ${a.lastName}`,{error:N}=await S(a.email,a.password,h);N?(t(N.message||"Failed to create account"),l.error("Failed to create account")):(l.success("Account created successfully!"),n())}catch{t("An unexpected error occurred"),l.error("An unexpected error occurred")}finally{r(!1)}},_=async s=>{s.preventDefault(),t(""),r(!0);try{const{error:h}=await P(m.email,m.password);h?(t(h.message||"Failed to sign in"),l.error("Failed to sign in")):(l.success("Welcome back!"),n())}catch{t("An unexpected error occurred"),l.error("An unexpected error occurred")}finally{r(!1)}},q=async()=>{t(""),r(!0);try{const{error:s}=await M();s&&(t(s.message||"Failed to sign in with Google"),l.error("Failed to sign in with Google"),r(!1))}catch{t("An unexpected error occurred"),r(!1)}},z=async()=>{t(""),r(!0);try{const{error:s}=await H();s&&(t(s.message||"Failed to sign in with Facebook"),l.error("Failed to sign in with Facebook"),r(!1))}catch{t("An unexpected error occurred"),r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-white to-secondary/5 flex items-center justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs(u,{variant:"ghost",onClick:x,className:"mb-6",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),e.jsxs(B,{className:"shadow-xl",children:[e.jsxs(D,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(E,{size:"xl",showText:!1})}),e.jsx(V,{className:"text-3xl",children:"Welcome to Wassel"}),e.jsx(W,{children:"واصل - Share Your Journey"})]}),e.jsxs(G,{children:[e.jsxs($,{defaultValue:j,className:"w-full",children:[e.jsxs(O,{className:"grid w-full grid-cols-2",children:[e.jsx(b,{value:"signup",children:"Sign Up"}),e.jsx(b,{value:"login",children:"Log In"})]}),e.jsxs(w,{value:"signup",children:[p&&e.jsxs(A,{variant:"destructive",className:"mt-4",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx(F,{children:p})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"First Name"}),e.jsx(c,{placeholder:"Ahmed",required:!0,value:a.firstName,onChange:s=>d({...a,firstName:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Last Name"}),e.jsx(c,{placeholder:"Hassan",required:!0,value:a.lastName,onChange:s=>d({...a,lastName:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"email",placeholder:"ahmed@example.com",className:"pl-10",required:!0,value:a.email,onChange:s=>d({...a,email:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"tel",placeholder:"+971 50 123 4567",className:"pl-10",required:!0,value:a.phone,onChange:s=>d({...a,phone:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"password",placeholder:"••••••••",className:"pl-10",required:!0,value:a.password,onChange:s=>d({...a,password:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"password",placeholder:"••••••••",className:"pl-10",required:!0,value:a.confirmPassword,onChange:s=>d({...a,confirmPassword:s.target.value})})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"terms",className:"mt-1",required:!0}),e.jsx("label",{htmlFor:"terms",className:"text-sm text-gray-600",children:"I agree to Wassel's Terms of Service and Privacy Policy"})]}),e.jsx(u,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700",disabled:o,children:o?"Creating Account...":"Create Account"})]})]}),e.jsxs(w,{value:"login",children:[p&&e.jsxs(A,{variant:"destructive",className:"mt-4",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx(F,{children:p})]}),e.jsxs("form",{onSubmit:_,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"email",placeholder:"ahmed@example.com",className:"pl-10",required:!0,value:m.email,onChange:s=>y({...m,email:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{children:"Password"}),e.jsx("button",{type:"button",className:"text-sm text-teal-600 hover:text-teal-700",children:"Forgot?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"password",placeholder:"••••••••",className:"pl-10",required:!0,value:m.password,onChange:s=>y({...m,password:s.target.value})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"remember"}),e.jsx("label",{htmlFor:"remember",className:"text-sm text-gray-600",children:"Remember me"})]}),e.jsx(u,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700",disabled:o,children:o?"Signing In...":"Sign In"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[e.jsxs(u,{variant:"outline",type:"button",onClick:q,disabled:o,children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs(u,{variant:"outline",type:"button",onClick:z,disabled:o,children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.954 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]})]})]}),e.jsx("p",{className:"text-center text-sm text-gray-600 mt-6",children:"By signing up, you agree to our commitment to safe and sustainable travel"})]})})}export{de as AuthPage};
