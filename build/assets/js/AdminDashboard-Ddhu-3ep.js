const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/twilioService-B_VgIZtj.js","assets/js/integrations-CUA0pWDL.js"])))=>i.map(i=>d[i]);
import{r as m,j as e}from"./vendor-ui-jVyU-rC5.js";import{c as q,s as S,t as y,C as l,a as g,b as N,e as d,B as v,x as $,f as x,_ as xe,D as ee,d as U,P as L,u as he}from"./index-BMnkv4Hv.js";import{T as se,a as te,b as D,c as I}from"./tabs-DTt9RDMA.js";import{I as ue}from"./input-BadvQ2Zs.js";import{A as M,b as B,a as z}from"./avatar-DaMEyjke.js";import{S as W,a as J,b as Y,c as Z,d as R}from"./select-C8MU89jN.js";import{T as je,a as ve,b as K,c as F,d as fe,e as P}from"./table-Ci7ihy7Z.js";import{S as pe}from"./search-EcfH77_f.js";import{C as O}from"./circle-check-big-BLDqpBX-.js";import{M as ge}from"./mail-DYzQXEyP.js";import{P as ae}from"./phone-WRmhWrkP.js";import{S as Ne}from"./shield-Cbg0e8HE.js";import{T as G}from"./triangle-alert-BV5_wIfZ.js";import{M as V}from"./map-pin-D34BJ92p.js";import{C as re}from"./clock-WK390USG.js";import{D as ie}from"./dollar-sign-BL2Ijtbm.js";import{T as X}from"./textarea-BdWFsc3b.js";import{T as ne}from"./trending-up-CP4LsNPw.js";import{getIntegrationHealth as be,checkIntegrationStatus as ye}from"./integrations-CUA0pWDL.js";import{C as we}from"./circle-alert-ik8fi0eq.js";import{U as Se}from"./users-DCaTEp8Y.js";import{C as _e}from"./car-DYK4QAKb.js";import"./vendor-react-7PqXWhc5.js";import"./vendor-utils-CADQ8aCF.js";import"./vendor-supabase-b92lme3K.js";import"./vendor-animation-BozBRtxF.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],De=q("activity",Ae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],le=q("ban",Te);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q=q("eye",Ce);function ke(){const[a,o]=m.useState([]),[c,i]=m.useState([]),[h,f]=m.useState(!0),[w,E]=m.useState(""),[T,C]=m.useState("all"),[s,p]=m.useState("all"),[_,u]=m.useState(null);m.useEffect(()=>{r()},[]),m.useEffect(()=>{A()},[w,T,s,a]);const r=async()=>{f(!0);try{const{data:t,error:j}=await S.from("profiles").select("*").order("created_at",{ascending:!1});if(j)throw j;const k=(t||[]).map(b=>({id:b.id,email:b.email||"user@example.com",full_name:b.full_name||"User",phone:b.phone||"+971501234567",role:b.role||"passenger",status:b.status||"active",verified:b.verified||!1,rating:b.rating||4.5,total_trips:b.total_trips||0,created_at:b.created_at,last_active:b.updated_at||b.created_at,profile_photo:b.avatar_url}));o(k),i(k)}catch(t){console.error("Failed to load users:",t),y.error("Failed to load users")}finally{f(!1)}},A=()=>{let t=[...a];w&&(t=t.filter(j=>j.full_name.toLowerCase().includes(w.toLowerCase())||j.email.toLowerCase().includes(w.toLowerCase())||j.phone.includes(w))),T!=="all"&&(t=t.filter(j=>j.role===T)),s!=="all"&&(t=t.filter(j=>j.status===s)),i(t)},n=async t=>{if(window.confirm("Are you sure you want to suspend this user? They will not be able to use the platform."))try{const{error:k}=await S.from("profiles").update({status:"suspended",updated_at:new Date().toISOString()}).eq("id",t);if(k)throw k;y.success("User suspended successfully"),r()}catch(k){console.error("Failed to suspend user:",k),y.error("Failed to suspend user")}},H=async t=>{try{const{error:j}=await S.from("profiles").update({status:"active",updated_at:new Date().toISOString()}).eq("id",t);if(j)throw j;y.success("User activated successfully"),r()}catch(j){console.error("Failed to activate user:",j),y.error("Failed to activate user")}},de=async t=>{if(!window.confirm("Are you sure you want to BAN this user? This action is severe and should only be used for serious violations."))return;const k=window.prompt("Enter reason for ban:");if(k)try{const{error:b}=await S.from("profiles").update({status:"banned",ban_reason:k,updated_at:new Date().toISOString()}).eq("id",t);if(b)throw b;y.success("User banned successfully"),r()}catch(b){console.error("Failed to ban user:",b),y.error("Failed to ban user")}},ce=async t=>{try{const{error:j}=await S.from("profiles").update({verified:!0,updated_at:new Date().toISOString()}).eq("id",t);if(j)throw j;y.success("User verified successfully"),r()}catch(j){console.error("Failed to verify user:",j),y.error("Failed to verify user")}},oe=t=>{switch(t){case"active":return e.jsx(x,{variant:"default",children:"Active"});case"suspended":return e.jsx(x,{variant:"secondary",children:"Suspended"});case"banned":return e.jsx(x,{variant:"destructive",children:"Banned"});default:return e.jsx(x,{variant:"outline",children:t})}},me=t=>{switch(t){case"driver":return e.jsx(x,{variant:"default",children:"Driver"});case"passenger":return e.jsx(x,{variant:"secondary",children:"Passenger"});case"admin":return e.jsx(x,{variant:"destructive",children:"Admin"});default:return e.jsx(x,{variant:"outline",children:t})}};return h?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(l,{children:[e.jsx(g,{children:e.jsx(N,{children:"User Management"})}),e.jsx(d,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(ue,{placeholder:"Search by name, email, or phone...",value:w,onChange:t=>E(t.target.value),className:"pl-10"})]}),e.jsxs(W,{value:T,onValueChange:C,children:[e.jsx(J,{className:"w-full md:w-48",children:e.jsx(Y,{placeholder:"Filter by role"})}),e.jsxs(Z,{children:[e.jsx(R,{value:"all",children:"All Roles"}),e.jsx(R,{value:"passenger",children:"Passengers"}),e.jsx(R,{value:"driver",children:"Drivers"}),e.jsx(R,{value:"admin",children:"Admins"})]})]}),e.jsxs(W,{value:s,onValueChange:p,children:[e.jsx(J,{className:"w-full md:w-48",children:e.jsx(Y,{placeholder:"Filter by status"})}),e.jsxs(Z,{children:[e.jsx(R,{value:"all",children:"All Status"}),e.jsx(R,{value:"active",children:"Active"}),e.jsx(R,{value:"suspended",children:"Suspended"}),e.jsx(R,{value:"banned",children:"Banned"})]})]})]})})]}),e.jsx(l,{children:e.jsx(d,{className:"p-0",children:e.jsxs(je,{children:[e.jsx(ve,{children:e.jsxs(K,{children:[e.jsx(F,{children:"User"}),e.jsx(F,{children:"Contact"}),e.jsx(F,{children:"Role"}),e.jsx(F,{children:"Status"}),e.jsx(F,{children:"Rating"}),e.jsx(F,{children:"Trips"}),e.jsx(F,{children:"Joined"}),e.jsx(F,{children:"Actions"})]})}),e.jsx(fe,{children:c.map(t=>e.jsxs(K,{children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(M,{children:[e.jsx(B,{src:t.profile_photo}),e.jsx(z,{children:t.full_name.charAt(0)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-2",children:[t.full_name,t.verified&&e.jsx(O,{className:"w-4 h-4 text-blue-500"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",t.id.slice(0,8),"..."]})]})]})}),e.jsx(P,{children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ge,{className:"w-3 h-3"}),t.email]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(ae,{className:"w-3 h-3"}),t.phone]})]})}),e.jsx(P,{children:me(t.role)}),e.jsx(P,{children:oe(t.status)}),e.jsx(P,{children:e.jsxs("div",{className:"flex items-center gap-1",children:["⭐ ",t.rating.toFixed(1)]})}),e.jsx(P,{children:t.total_trips}),e.jsx(P,{children:e.jsx("div",{className:"text-sm",children:new Date(t.created_at).toLocaleDateString()})}),e.jsx(P,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[t.status==="active"?e.jsxs(e.Fragment,{children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>n(t.id),children:e.jsx(le,{className:"w-4 h-4"})}),!t.verified&&e.jsx(v,{variant:"outline",size:"sm",onClick:()=>ce(t.id),children:e.jsx(Ne,{className:"w-4 h-4"})})]}):t.status==="suspended"?e.jsxs(e.Fragment,{children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>H(t.id),children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx(v,{variant:"destructive",size:"sm",onClick:()=>de(t.id),children:e.jsx($,{className:"w-4 h-4"})})]}):e.jsx(x,{variant:"destructive",children:"Banned"}),e.jsx(v,{variant:"ghost",size:"sm",onClick:()=>u(t),children:e.jsx(Q,{className:"w-4 h-4"})})]})})]},t.id))})]})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",c.length," of ",a.length," users"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),e.jsx(v,{variant:"outline",size:"sm",disabled:!0,children:"Next"})]})]})]})}function Re(){const[a,o]=m.useState([]),[c,i]=m.useState(!0),[h,f]=m.useState(null);m.useEffect(()=>{w();const s=S.channel("admin-trips").on("postgres_changes",{event:"*",schema:"public",table:"trips"},()=>{w()}).subscribe();return()=>{S.removeChannel(s)}},[]);const w=async()=>{i(!0);try{const{data:s,error:p}=await S.from("trips").select(`
          *,
          passenger:passenger_id(id, full_name, avatar_url, rating),
          driver:driver_id(id, full_name, avatar_url, rating)
        `).in("status",["waiting","arriving","picked_up","in_progress"]).order("created_at",{ascending:!1});if(p)throw p;const _=(s||[]).map(n=>n.id),{data:u}=await S.from("emergency_alerts").select("trip_id").in("trip_id",_).eq("status","active"),r=new Set((u||[]).map(n=>n.trip_id)),A=(s||[]).map(n=>({id:n.id,status:n.status,passenger:{id:n.passenger?.id||"",name:n.passenger?.full_name||"Unknown",photo:n.passenger?.avatar_url,rating:n.passenger?.rating||0},driver:{id:n.driver?.id||"",name:n.driver?.full_name||"Unknown",photo:n.driver?.avatar_url,rating:n.driver?.rating||0},from:n.from_location||"Unknown",to:n.to_location||"Unknown",fare:n.fare||0,startTime:n.created_at,eta:n.eta,distance:n.distance||0,hasEmergency:r.has(n.id)}));o(A)}catch(s){console.error("Failed to load live trips:",s)}finally{i(!1)}},E=s=>{const p={waiting:{variant:"secondary",label:"Waiting"},arriving:{variant:"default",label:"Arriving"},picked_up:{variant:"default",label:"Picked Up"},in_progress:{variant:"default",label:"In Progress"}},{variant:_,label:u}=p[s]||{variant:"outline",label:s};return e.jsx(x,{variant:_,children:u})},T=s=>{f(s),y.info(`Viewing trip ${s.id.slice(0,8)} - Map integration pending`)},C=async s=>{y.info("Initiating intervention call...");try{const{twilioService:p}=await xe(async()=>{const{twilioService:r}=await import("./twilioService-B_VgIZtj.js");return{twilioService:r}},__vite__mapDeps([0,1])),{data:_}=await S.from("profiles").select("phone").eq("id",s.driver.id).single(),{data:u}=await S.from("profiles").select("phone").eq("id",s.passenger.id).single();if(_?.phone&&u?.phone){const r=await p.createConferenceCall(_.phone,u.phone,s.id);r.success?y.success("Conference call initiated"):y.error(r.error||"Failed to initiate call")}else y.error("Phone numbers not available for participants")}catch(p){console.error("Intervention call failed:",p),y.error("Failed to initiate intervention call")}};return c?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:a.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Trips"})]})}),e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:a.filter(s=>s.status==="waiting").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiting for Pickup"})]})}),e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:a.filter(s=>s.status==="in_progress").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"})]})}),e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.filter(s=>s.hasEmergency).length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Emergency Alerts"})]})})]}),e.jsxs(l,{children:[e.jsx(g,{children:e.jsx(N,{children:"Live Trips"})}),e.jsx(d,{children:a.length===0?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No active trips at the moment"}):e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs("div",{className:`p-4 border rounded-lg ${s.hasEmergency?"border-red-500 bg-red-50 dark:bg-red-950":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[E(s.status),s.hasEmergency&&e.jsxs(x,{variant:"destructive",children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),"EMERGENCY"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Trip ID: ",s.id.slice(0,8)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>T(s),children:e.jsx(Q,{className:"w-4 h-4"})}),s.hasEmergency&&e.jsx(v,{variant:"destructive",size:"sm",onClick:()=>C(s),children:e.jsx(ae,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Passenger"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(M,{children:[e.jsx(B,{src:s.passenger.photo}),e.jsx(z,{children:s.passenger.name.charAt(0)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.passenger.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["⭐ ",s.passenger.rating.toFixed(1)]})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Driver"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(M,{children:[e.jsx(B,{src:s.driver.photo}),e.jsx(z,{children:s.driver.name.charAt(0)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.driver.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["⭐ ",s.driver.rating.toFixed(1)]})]})]})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(V,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"From:"})," ",s.from]})]}),e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(V,{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"To:"})," ",s.to]})]})]}),e.jsxs("div",{className:"mt-4 flex gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(re,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.eta?`ETA ${new Date(s.eta).toLocaleTimeString()}`:"Calculating..."})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:["AED ",s.fare.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(V,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:[(s.distance/1e3).toFixed(1)," km"]})]})]})]},s.id))})})]})]})}function Fe(){const[a,o]=m.useState([]),[c,i]=m.useState(!0),[h,f]=m.useState(null),[w,E]=m.useState(""),[T,C]=m.useState("");m.useEffect(()=>{s()},[]);const s=async()=>{i(!0);try{const{data:r,error:A}=await S.from("disputes").select("*").order("created_at",{ascending:!1});if(A)throw A;const n=[{id:"1",trip_id:"trip123",filed_by:"user1",filed_by_name:"Ahmed Mohammed",type:"pricing",description:"I was charged more than the estimated fare. The app showed AED 45 but I was charged AED 65.",evidence:[],status:"open",created_at:new Date().toISOString()},{id:"2",trip_id:"trip124",filed_by:"user2",filed_by_name:"Sarah Johnson",type:"service",description:"Driver was rude and took a longer route intentionally.",evidence:[],status:"under_review",created_at:new Date(Date.now()-36e5).toISOString()}];o(n)}catch(r){console.error("Failed to load disputes:",r)}finally{i(!1)}},p=async(r,A)=>{if(!w){y.error("Please provide a resolution message");return}try{const{error:n}=await S.from("disputes").update({status:"resolved",resolution:w,admin_notes:T,resolved_at:new Date().toISOString()}).eq("id",r);if(n)throw n;y.success("Dispute resolved successfully"),f(null),E(""),C(""),s()}catch(n){console.error("Failed to resolve dispute:",n),y.error("Failed to resolve dispute")}},_=r=>{const A={open:{variant:"destructive",label:"Open"},under_review:{variant:"secondary",label:"Under Review"},resolved:{variant:"default",label:"Resolved"},closed:{variant:"outline",label:"Closed"}},{variant:n,label:H}=A[r]||{variant:"outline",label:r};return e.jsx(x,{variant:n,children:H})},u=r=>{const A={pricing:"Pricing",service:"Service",safety:"Safety",lost_item:"Lost Item",payment:"Payment"};return e.jsx(x,{variant:"outline",children:A[r]||r})};return c?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.filter(r=>r.status==="open").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Open Disputes"})]})}),e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:a.filter(r=>r.status==="under_review").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Under Review"})]})}),e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.filter(r=>r.status==="resolved").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"})]})}),e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:"24.5h"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Resolution Time"})]})})]}),e.jsxs(l,{children:[e.jsx(g,{children:e.jsx(N,{children:"All Disputes"})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:a.map(r=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(M,{children:[e.jsx(B,{src:r.filed_by_photo}),e.jsx(z,{children:r.filed_by_name.charAt(0)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.filed_by_name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Trip ID: ",r.trip_id]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[_(r.status),u(r.type)]})]}),e.jsx("p",{className:"text-sm mb-4",children:r.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(re,{className:"w-4 h-4"}),new Date(r.created_at).toLocaleString()]}),r.status==="open"||r.status==="under_review"?e.jsx(v,{variant:"outline",size:"sm",onClick:()=>f(r),children:"Review & Resolve"}):e.jsx(v,{variant:"ghost",size:"sm",children:"View Resolution"})]})]},r.id))})})]}),h&&e.jsxs(l,{className:"border-2 border-primary",children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{children:"Resolve Dispute"}),e.jsx(v,{variant:"ghost",size:"sm",onClick:()=>f(null),children:e.jsx($,{className:"w-4 h-4"})})]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium mb-2",children:["User: ",h.filed_by_name]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Trip ID: ",h.trip_id]}),e.jsx("p",{className:"text-sm",children:h.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Resolution Message (will be sent to user)"}),e.jsx(X,{value:w,onChange:r=>E(r.target.value),placeholder:"Explain how the dispute was resolved...",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Notes (internal only)"}),e.jsx(X,{value:T,onChange:r=>C(r.target.value),placeholder:"Internal notes about this resolution...",rows:3})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(v,{variant:"default",className:"flex-1",onClick:()=>p(h.id),children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Resolve in Favor of User"]}),e.jsxs(v,{variant:"outline",className:"flex-1",onClick:()=>p(h.id),children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Resolve in Favor of Driver"]})]})]})]})]})}function Pe(){const[a,o]=m.useState("month"),c={revenue:{total:345890.25,platformFees:56549.75,growth:12.5},payouts:{pending:12450.3,processed:231472.4,failed:125.5},breakdown:{rides:245680.3,delivery:43660.2,cancellations:-2450.25}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Financial Reports"}),e.jsx("p",{className:"text-muted-foreground",children:"Revenue and payout analytics"})]}),e.jsxs(v,{children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Export Report"]})]}),e.jsxs(se,{value:a,onValueChange:i=>o(i),children:[e.jsxs(te,{children:[e.jsx(D,{value:"today",children:"Today"}),e.jsx(D,{value:"week",children:"This Week"}),e.jsx(D,{value:"month",children:"This Month"}),e.jsx(D,{value:"year",children:"This Year"})]}),e.jsxs(I,{value:a,className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs(l,{children:[e.jsx(g,{children:e.jsx(N,{className:"text-sm font-medium",children:"Total Revenue"})}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-3xl font-bold",children:["AED ",c.revenue.total.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600 mt-2",children:[e.jsx(ne,{className:"w-4 h-4"}),"+",c.revenue.growth,"% from last period"]})]})]}),e.jsxs(l,{children:[e.jsx(g,{children:e.jsx(N,{className:"text-sm font-medium",children:"Platform Fees"})}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-3xl font-bold",children:["AED ",c.revenue.platformFees.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[(c.revenue.platformFees/c.revenue.total*100).toFixed(1),"% of total"]})]})]}),e.jsxs(l,{children:[e.jsx(g,{children:e.jsx(N,{className:"text-sm font-medium",children:"Pending Payouts"})}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-3xl font-bold",children:["AED ",c.payouts.pending.toLocaleString()]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"To be processed"})]})]})]}),e.jsxs(l,{children:[e.jsxs(g,{children:[e.jsx(N,{children:"Revenue Breakdown"}),e.jsx(U,{children:"By service type"})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Ride Services"}),e.jsxs("span",{className:"font-bold",children:["AED ",c.breakdown.rides.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Delivery Services"}),e.jsxs("span",{className:"font-bold",children:["AED ",c.breakdown.delivery.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-between text-red-600",children:[e.jsx("span",{className:"text-sm font-medium",children:"Cancellation Refunds"}),e.jsxs("span",{className:"font-bold",children:["AED ",c.breakdown.cancellations.toLocaleString()]})]})]})]}),e.jsxs(l,{children:[e.jsxs(g,{children:[e.jsx(N,{children:"Payout Status"}),e.jsx(U,{children:"Driver payment processing"})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 dark:bg-yellow-950 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Pending Payouts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Awaiting processing"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold",children:["AED ",c.payouts.pending.toLocaleString()]}),e.jsx(v,{size:"sm",className:"mt-2",children:"Process All"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Processed Payouts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Successfully completed"})]}),e.jsxs("p",{className:"text-2xl font-bold",children:["AED ",c.payouts.processed.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-950 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Failed Payouts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Requires attention"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold",children:["AED ",c.payouts.failed.toLocaleString()]}),e.jsx(v,{size:"sm",variant:"destructive",className:"mt-2",children:"Review"})]})]})]})]})]})]})]})}function Ie(){const[a,o]=m.useState([{id:"1",type:"fake_gps",severity:"high",user_id:"user123",user_name:"Suspicious Driver #1",description:"GPS location jumps detected - possible location spoofing",evidence:["3 trips with impossible location changes","GPS accuracy below threshold"],confidence:87,created_at:new Date().toISOString(),status:"pending"},{id:"2",type:"multiple_accounts",severity:"critical",user_id:"user456",user_name:"User Group A",description:"Multiple accounts detected from same device and payment method",evidence:["4 accounts sharing device ID","Same payment card used"],confidence:95,created_at:new Date(Date.now()-36e5).toISOString(),status:"investigating"}]),c=i=>{const h={low:{variant:"secondary",label:"Low"},medium:{variant:"default",label:"Medium"},high:{variant:"destructive",label:"High"},critical:{variant:"destructive",label:"CRITICAL"}};return e.jsx(x,{variant:h[i]?.variant||"outline",children:h[i]?.label||i})};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.filter(i=>i.severity==="critical").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical Alerts"})]})}),e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:a.filter(i=>i.severity==="high").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"High Priority"})]})}),e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:a.filter(i=>i.status==="pending").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Review"})]})}),e.jsx(l,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.filter(i=>i.status==="resolved").length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"})]})})]}),e.jsxs(l,{children:[e.jsxs(g,{children:[e.jsx(N,{children:"Fraud Alerts"}),e.jsx(U,{children:"AI-detected suspicious activities"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:a.map(i=>e.jsxs("div",{className:`p-4 border rounded-lg ${i.severity==="critical"?"border-red-500 bg-red-50 dark:bg-red-950":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:`w-5 h-5 ${i.severity==="critical"?"text-red-600":"text-orange-600"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:i.user_name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:i.type.replace("_"," ").toUpperCase()})]})]}),e.jsxs("div",{className:"flex gap-2",children:[c(i.severity),e.jsxs(x,{variant:"outline",children:[i.confidence,"% confidence"]})]})]}),e.jsx("p",{className:"text-sm mb-3",children:i.description}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs font-semibold mb-1",children:"Evidence:"}),e.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:i.evidence.map((h,f)=>e.jsxs("li",{children:["• ",h]},f))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(v,{size:"sm",variant:"outline",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Investigate"]}),e.jsxs(v,{size:"sm",variant:"destructive",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Take Action"]}),e.jsx(v,{size:"sm",variant:"ghost",children:"Mark as False Positive"})]})]},i.id))})})]})]})}function Ee(){const[a,o]=m.useState({api:{status:"healthy",responseTime:145,uptime:99.98},database:{status:"healthy",connections:45,maxConnections:100},realtime:{status:"healthy",activeChannels:234,messageRate:450},storage:{status:"healthy",used:45,total:100}}),c=be(),i=ye(),h=f=>f==="healthy"?e.jsx(O,{className:"w-5 h-5 text-green-600"}):e.jsx(we,{className:"w-5 h-5 text-red-600"});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(l,{children:[e.jsxs(g,{children:[e.jsx(N,{children:"System Status"}),e.jsx(U,{children:"All systems operational"})]}),e.jsx(d,{children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[h(a.api.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"API Server"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.api.responseTime,"ms"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[h(a.database.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Database"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.database.connections," connections"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[h(a.realtime.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Realtime"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.realtime.activeChannels," channels"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[h(a.storage.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Storage"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.storage.used,"GB used"]})]})]})]})})]}),e.jsxs(l,{children:[e.jsxs(g,{children:[e.jsx(N,{children:"Third-Party Integrations"}),e.jsxs(U,{children:[c.healthy," of ",c.total," integrations active"]})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Overall Integration Health"}),e.jsxs("span",{className:"font-bold",children:[c.percentage,"%"]})]}),e.jsx(L,{value:c.percentage})]}),e.jsx("div",{className:"mt-6 grid md:grid-cols-2 gap-3",children:Object.entries(i).map(([f,w])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[e.jsx("span",{className:"font-medium capitalize",children:f.replace(/([A-Z])/g," $1").trim()}),w?e.jsx(x,{variant:"default",children:"Active"}):e.jsx(x,{variant:"secondary",children:"Mock"})]},f))}),c.missing.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-950 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold mb-2",children:"Missing Integrations:"}),e.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:c.missing.map(f=>e.jsxs("li",{children:["• ",f.replace(/([A-Z])/g," $1").trim()," - Add API key to enable"]},f))})]})]})]}),e.jsxs(l,{children:[e.jsx(g,{children:e.jsx(N,{children:"Performance Metrics"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"API Response Time"}),e.jsxs("span",{className:"text-sm font-medium",children:[a.api.responseTime,"ms"]})]}),e.jsx(L,{value:100-a.api.responseTime/10}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Target: < 200ms"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Database Connections"}),e.jsxs("span",{className:"text-sm font-medium",children:[a.database.connections," / ",a.database.maxConnections]})]}),e.jsx(L,{value:a.database.connections/a.database.maxConnections*100})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Uptime"}),e.jsxs("span",{className:"text-sm font-medium",children:[a.api.uptime,"%"]})]}),e.jsx(L,{value:a.api.uptime}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Target: 99.9%"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Storage Usage"}),e.jsxs("span",{className:"text-sm font-medium",children:[a.storage.used,"GB / ",a.storage.total,"GB"]})]}),e.jsx(L,{value:a.storage.used/a.storage.total*100})]})]})})]})]})}function ds(){const{user:a}=he(),[o,c]=m.useState(null),[i,h]=m.useState(!0),[f,w]=m.useState("overview"),[E,T]=m.useState("");m.useEffect(()=>{C();const s=setInterval(C,3e4);return()=>clearInterval(s)},[]);const C=async()=>{h(!0);try{const[s,p]=await Promise.all([S.from("profiles").select("*"),S.from("trips").select("*")]),_={users:{total:s.data?.length||0,active:s.data?.filter(u=>u.is_active).length||0,drivers:s.data?.filter(u=>u.role==="driver").length||0,passengers:s.data?.filter(u=>u.role==="passenger").length||0,newToday:12,suspended:3},trips:{total:p.data?.length||0,active:p.data?.filter(u=>["waiting","in_progress"].includes(u.status)).length||0,completed:p.data?.filter(u=>u.status==="completed").length||0,cancelled:p.data?.filter(u=>u.status==="cancelled").length||0,todayRevenue:15420.5},disputes:{open:8,underReview:12,resolved:145,avgResolutionTime:24.5},financials:{todayRevenue:15420.5,weekRevenue:89450.75,monthRevenue:345890.25,pendingPayouts:12450.3},system:{uptime:99.98,apiResponseTime:145,errorRate:.02,activeConnections:342}};c(_)}catch(s){console.error("Failed to load dashboard stats:",s)}finally{h(!1)}};return i||!o?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Platform management and monitoring"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(v,{variant:"outline",onClick:C,children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e.jsxs(v,{children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs(se,{value:f,onValueChange:w,children:[e.jsxs(te,{className:"mb-6",children:[e.jsx(D,{value:"overview",children:"Overview"}),e.jsx(D,{value:"users",children:"Users"}),e.jsx(D,{value:"trips",children:"Live Trips"}),e.jsx(D,{value:"disputes",children:"Disputes"}),e.jsx(D,{value:"financials",children:"Financials"}),e.jsx(D,{value:"fraud",children:"Fraud Detection"}),e.jsx(D,{value:"system",children:"System Health"})]}),e.jsxs(I,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(l,{children:[e.jsxs(g,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(N,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(Se,{className:"w-4 h-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.users.total.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsxs("span",{className:"text-green-600",children:["+",o.users.newToday]})," new today"]}),e.jsxs("div",{className:"mt-2 flex gap-2 text-xs",children:[e.jsxs(x,{variant:"secondary",children:[o.users.drivers," Drivers"]}),e.jsxs(x,{variant:"secondary",children:[o.users.passengers," Passengers"]})]})]})]}),e.jsxs(l,{children:[e.jsxs(g,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(N,{className:"text-sm font-medium",children:"Active Trips"}),e.jsx(_e,{className:"w-4 h-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.trips.active}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.trips.completed," completed today"]}),e.jsx("div",{className:"mt-2",children:e.jsxs(x,{variant:"destructive",children:[o.trips.cancelled," cancelled"]})})]})]}),e.jsxs(l,{children:[e.jsxs(g,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(N,{className:"text-sm font-medium",children:"Today's Revenue"}),e.jsx(ie,{className:"w-4 h-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["AED ",o.financials.todayRevenue.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["AED ",o.financials.monthRevenue.toLocaleString()," this month"]}),e.jsx("div",{className:"mt-2",children:e.jsxs(x,{variant:"secondary",children:[e.jsx(ne,{className:"w-3 h-3 mr-1"}),"+12.5%"]})})]})]}),e.jsxs(l,{children:[e.jsxs(g,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(N,{className:"text-sm font-medium",children:"Open Disputes"}),e.jsx(G,{className:"w-4 h-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.disputes.open}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.disputes.underReview," under review"]}),e.jsx("div",{className:"mt-2",children:e.jsxs(x,{variant:"outline",children:["Avg ",o.disputes.avgResolutionTime,"h resolution"]})})]})]})]}),e.jsxs(l,{children:[e.jsxs(g,{children:[e.jsx(N,{children:"System Health"}),e.jsx(U,{children:"Real-time platform status"})]}),e.jsx(d,{children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Uptime"}),e.jsx(x,{variant:"default",children:"Healthy"})]}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[o.system.uptime,"%"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"API Response"}),e.jsx(x,{variant:"default",children:"Good"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[o.system.apiResponseTime,"ms"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Error Rate"}),e.jsx(x,{variant:"default",children:"Low"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[o.system.errorRate,"%"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Active Users"}),e.jsx(x,{variant:"secondary",children:"Live"})]}),e.jsx("div",{className:"text-2xl font-bold",children:o.system.activeConnections})]})]})})]}),e.jsxs(l,{children:[e.jsxs(g,{children:[e.jsx(N,{children:"Recent Activity"}),e.jsx(U,{children:"Latest platform events"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:[{type:"trip",message:"New trip completed",user:"Ahmed M.",time:"2 min ago",status:"success"},{type:"user",message:"New driver registered",user:"Sarah K.",time:"5 min ago",status:"info"},{type:"dispute",message:"Dispute filed",user:"Mohammed A.",time:"12 min ago",status:"warning"},{type:"payment",message:"Payout processed",user:"Driver #1234",time:"15 min ago",status:"success"},{type:"system",message:"System backup completed",user:"System",time:"1 hour ago",status:"info"}].map((s,p)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.status==="success"?"bg-green-500":s.status==="warning"?"bg-yellow-500":"bg-blue-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.user})]})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.time})]},p))})})]})]}),e.jsx(I,{value:"users",children:e.jsx(ke,{})}),e.jsx(I,{value:"trips",children:e.jsx(Re,{})}),e.jsx(I,{value:"disputes",children:e.jsx(Fe,{})}),e.jsx(I,{value:"financials",children:e.jsx(Pe,{})}),e.jsx(I,{value:"fraud",children:e.jsx(Ie,{})}),e.jsx(I,{value:"system",children:e.jsx(Ee,{})})]})})]})}export{ds as AdminDashboard};
