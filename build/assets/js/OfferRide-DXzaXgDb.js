import{j as e,t as ae,u as re,r}from"./vendor-ui-jVyU-rC5.js";import{c as te,j as le,l as ie,u as ce,C as O,a as z,b as q,d as de,e as B,B as m,x as ne,I as S,f as x,t as u}from"./index-DyAvE2yn.js";import{I as l}from"./input-BLo5ngIr.js";import{L as a}from"./label-B-5E83zk.js";import{T as oe}from"./textarea-DMwQFIld.js";import{R as me,a as U,S as xe,I as pe}from"./radio-group-D0K9z-UY.js";import{S as he}from"./switch-DSuvZZWB.js";import{M as ue}from"./MapComponent-W-VMxfMP.js";import{d as je}from"./mockDataService-CJlUMX2z.js";import{L as j}from"./locate-DM14SJBn.js";import{C as ge}from"./circle-plus-pTcp353Q.js";import{R as ve}from"./radar-C4Jwe47A.js";import{C as H}from"./calendar-clock-CaSado1o.js";import{T as W}from"./timer-BQYySkTv.js";import{U as ye}from"./users-round-Dx08XuI4.js";import{C as Ne}from"./circle-dollar-sign-WuyUeWYe.js";import{T as fe}from"./trending-up-DPYKOFyR.js";import{S as be}from"./shield-C2jQBPX_.js";import{T as ke}from"./truck-C-mU8ZzE.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],Se=te("car-front",we);function C({className:g,...n}){return e.jsx(ae,{"data-slot":"checkbox",className:le("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",g),...n,children:e.jsx(re,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(ie,{className:"size-3.5"})})})}function Ce(){const{user:g}=ce(),[n,X]=r.useState("wasel"),[i,T]=r.useState(""),[c,P]=r.useState(""),[d,v]=r.useState([]),[p,R]=r.useState(""),[y,G]=r.useState(!1),[N,_]=r.useState(""),[f,D]=r.useState(""),[A,V]=r.useState(""),[M,Y]=r.useState(""),[h,L]=r.useState(""),[b,K]=r.useState("4"),[k,F]=r.useState(""),[$,J]=r.useState(""),[I,Q]=r.useState(!1),o=s=>{const t={dubai:{lat:25.2048,lng:55.2708},"abu dhabi":{lat:24.4539,lng:54.3773},riyadh:{lat:24.7136,lng:46.6753},jeddah:{lat:21.5433,lng:39.1728},cairo:{lat:30.0444,lng:31.2357},alexandria:{lat:31.2001,lng:29.9187},doha:{lat:25.2867,lng:51.531}},w=s.toLowerCase();return t[w]||{lat:25.2048,lng:55.2708}},E=()=>{if(p.trim()){const s=o(p);v([...d,{label:p,...s}]),R("")}},Z=s=>{v(d.filter((t,w)=>w!==s))},ee=async()=>{if(!g){u.error("Please sign in to offer a ride");return}if(!i||!c||!N||!f||!k||!h){u.error("Please enter all required details");return}try{const s=await je.createTrip({trip_type:n==="wasel"?"wasel":"raje3",from:i,to:c,from_coords:o(i),to_coords:o(c),departure_date:N,departure_time:f,return_date:A||void 0,return_time:M||void 0,vehicle:{make:h.split(" ")[0]||"Unknown",model:h,year:2023,color:"White",plate_number:"XXX-0000"},total_seats:parseInt(b),available_seats:parseInt(b),price_per_seat:parseFloat(k),preferences:{smoking_allowed:!1,pets_allowed:!1,music_allowed:!0}});u.success("Ride published successfully! Your trip is now visible to passengers."),T(""),P(""),_(""),D(""),F(""),L(""),v([])}catch(s){u.error(s.message||"Failed to publish ride")}},se=()=>{if(!i&&!c&&d.length===0)return[];const s=[];if(i){const t=o(i);s.push({...t,label:i,type:"start"})}if(d.forEach(t=>{s.push({...t,type:"stop"})}),c){const t=o(c);s.push({...t,label:c,type:"destination"})}return s};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Offer a Ride"}),e.jsx("p",{className:"text-gray-600",children:"Share your journey and help others reach their destination"})]}),e.jsxs(O,{children:[e.jsxs(z,{children:[e.jsx(q,{children:"Trip Details"}),e.jsx(de,{children:"Provide information about your journey"})]}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{children:"Trip Type"}),e.jsxs(me,{value:n,onValueChange:X,className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(U,{value:"wasel",id:"wasel",className:"peer sr-only"}),e.jsx(a,{htmlFor:"wasel",className:"flex flex-col items-center justify-between rounded-lg border-2 border-gray-200 p-4 hover:bg-gray-50 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5 cursor-pointer",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"text-4xl",children:"→"}),e.jsx("p",{className:"font-medium",children:"Wasel (واصل)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"One-way trip"})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{value:"raje3",id:"raje3",className:"peer sr-only"}),e.jsx(a,{htmlFor:"raje3",className:"flex flex-col items-center justify-between rounded-lg border-2 border-gray-200 p-4 hover:bg-gray-50 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5 cursor-pointer",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"text-4xl",children:"↔"}),e.jsx("p",{className:"font-medium",children:"Raje3 (راجع)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Return trip"})]})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"From"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(l,{placeholder:"Starting location",className:"pl-10",value:i,onChange:s=>T(s.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"To"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(l,{placeholder:"Destination",className:"pl-10",value:c,onChange:s=>P(s.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{children:"Stops Along the Way (Optional)"}),d.length>0&&e.jsx("div",{className:"space-y-2",children:d.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg",children:[e.jsx(j,{className:"w-4 h-4 text-secondary"}),e.jsx("span",{className:"flex-1",children:s.label}),e.jsx(m,{size:"sm",variant:"ghost",onClick:()=>Z(t),children:e.jsx(ne,{className:"w-4 h-4"})})]},t))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(j,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(l,{placeholder:"Add a stop (e.g., Dubai Marina)",className:"pl-10",value:p,onChange:s=>R(s.target.value),onKeyPress:s=>s.key==="Enter"&&E()})]}),e.jsxs(m,{type:"button",variant:"outline",onClick:E,className:"gap-2",children:[e.jsx(ge,{className:"w-4 h-4"}),"Add Stop"]})]})]}),(i||c||d.length>0)&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(a,{children:"Route Preview"}),e.jsxs(m,{type:"button",size:"sm",variant:"outline",onClick:()=>G(!y),className:"gap-2",children:[e.jsx(ve,{className:"w-4 h-4"}),y?"Hide Map":"Show Map"]})]}),y&&e.jsx(ue,{locations:se(),showRoute:!0,height:"300px"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Departure Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(l,{type:"date",className:"pl-10",value:N,onChange:s=>_(s.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Departure Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(l,{type:"time",className:"pl-10",value:f,onChange:s=>D(s.target.value)})]})]})]}),n==="raje3"&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 p-4 bg-secondary/5 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Return Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(l,{type:"date",className:"pl-10",value:A,onChange:s=>V(s.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Return Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(l,{type:"time",className:"pl-10",value:M,onChange:s=>Y(s.target.value)})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Vehicle Model"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(l,{placeholder:"e.g., Toyota Camry",className:"pl-10",value:h,onChange:s=>L(s.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Available Seats"}),e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(l,{type:"number",min:"1",max:"8",placeholder:"1-8 seats",className:"pl-10",value:b,onChange:s=>K(s.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Price per Seat (USD)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(l,{type:"number",min:"0",step:"0.01",placeholder:"Enter price",className:"pl-10",value:k,onChange:s=>F(s.target.value)})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Set a fair price based on distance and fuel costs"})]}),e.jsxs("div",{className:"space-y-4 p-6 border-2 rounded-xl bg-gradient-to-br from-primary/5 to-primary/10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full -mr-16 -mt-16"}),e.jsxs("div",{className:"flex items-start justify-between relative",children:[e.jsxs("div",{className:"space-y-2 flex-1 pr-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(S,{className:"h-5 w-5 text-primary"})}),e.jsx(a,{className:"text-lg font-semibold",children:"Accept Package Deliveries"})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Maximize your earnings by delivering packages along your route. Safe, secure, and simple."}),e.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[e.jsxs(x,{variant:"secondary",className:"text-xs",children:[e.jsx(fe,{className:"h-3 w-3 mr-1"}),"Earn up to 40% more"]}),e.jsxs(x,{variant:"outline",className:"text-xs",children:[e.jsx(be,{className:"h-3 w-3 mr-1"}),"Insured packages"]})]})]}),e.jsx(he,{id:"accept-packages",checked:I,onCheckedChange:Q,className:"mt-1"})]}),I&&e.jsxs("div",{className:"grid gap-6 pt-4 border-t border-primary/20 animate-in slide-in-from-top-2",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsxs(a,{className:"flex items-center gap-2 text-base",children:[e.jsx(xe,{className:"h-4 w-4 text-primary"}),"Select Package Sizes You Can Accept"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(C,{id:"pkg-small",className:"peer sr-only"}),e.jsxs(a,{htmlFor:"pkg-small",className:"flex flex-col gap-2 p-4 border-2 rounded-lg bg-background hover:bg-accent cursor-pointer transition-all peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{className:"h-5 w-5 text-primary"}),e.jsx(x,{variant:"outline",className:"text-xs",children:"+AED 15-25"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Small Package"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Under 2kg"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documents, keys, phones"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{id:"pkg-medium",className:"peer sr-only"}),e.jsxs(a,{htmlFor:"pkg-medium",className:"flex flex-col gap-2 p-4 border-2 rounded-lg bg-background hover:bg-accent cursor-pointer transition-all peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{className:"h-6 w-6 text-primary"}),e.jsx(x,{variant:"outline",className:"text-xs",children:"+AED 35-50"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Medium Package"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"2-18kg"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Boxes, bags, electronics"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{id:"pkg-large",className:"peer sr-only"}),e.jsxs(a,{htmlFor:"pkg-large",className:"flex flex-col gap-2 p-4 border-2 rounded-lg bg-background hover:bg-accent cursor-pointer transition-all peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ke,{className:"h-7 w-7 text-primary"}),e.jsx(x,{variant:"outline",className:"text-xs",children:"+AED 60-100"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Large Package"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Over 20kg"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Suitcases, equipment"})]})]})]})]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(pe,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"How Package Delivery Works:"}),e.jsxs("ul",{className:"space-y-1.5 text-blue-800 dark:text-blue-200",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:"•"}),e.jsx("span",{children:"Package details and pickup/dropoff are shared before you accept"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:"•"}),e.jsx("span",{children:"All packages are insured up to AED 5,000 at no extra cost"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:"•"}),e.jsx("span",{children:"Payment is secured and automatically released after delivery"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:"•"}),e.jsx("span",{children:"You can decline any package request without penalty"})]})]})]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Additional Notes (Optional)"}),e.jsx(oe,{placeholder:"Any special instructions or requirements for riders...",className:"min-h-24",value:$,onChange:s=>J(s.target.value)})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(m,{variant:"outline",className:"flex-1",children:"Save as Draft"}),e.jsx(m,{className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground",onClick:ee,children:"Publish Ride"})]})]})]}),e.jsxs(O,{children:[e.jsx(z,{children:e.jsx(q,{children:"Tips for a Great Ride"})}),e.jsx(B,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:"✓ Be punctual and communicate any delays"}),e.jsx("li",{children:"✓ Keep your vehicle clean and comfortable"}),e.jsx("li",{children:"✓ Set fair prices based on distance and fuel costs"}),e.jsx("li",{children:"✓ Be respectful and maintain good conversation"}),e.jsx("li",{children:"✓ Follow safety guidelines and traffic rules"})]})})]})]})}const Ge=Object.freeze(Object.defineProperty({__proto__:null,OfferRide:Ce},Symbol.toStringTag,{value:"Module"}));export{C,Ce as O,Ge as a};
