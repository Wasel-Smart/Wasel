import{r as m,j as e}from"./vendor-ui-Cj-e85pn.js";import{c as N,B as a,C as r,a as i,b as n,e as d,d as p,g as b,f as j,t as l}from"./index-CcjVERrS.js";import{D as C,d as w,a as A,b as D,c as S,f as T}from"./dialog-s8Ut11eA.js";import{I as P}from"./input-Ddv6p358.js";import{L as k}from"./label-B97chKpM.js";import{P as u}from"./plus-CM1Qti4I.js";import{T as g}from"./trending-up-DSJOFEjr.js";import"./vendor-react-7PqXWhc5.js";import"./vendor-utils-MHJ_mICC.js";import"./vendor-supabase-BfzcFBqZ.js";import"./vendor-animation-BozBRtxF.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],M=N("loader-circle",$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],y=N("trending-down",_),F=[{id:1,name:"Visa",last4:"4242",isDefault:!0},{id:2,name:"Mastercard",last4:"8888",isDefault:!1}],L=[{id:1,type:"payment",description:"Dubai → Abu Dhabi with Ahmed Hassan",date:"Oct 3, 2025",amount:90,status:"Completed"},{id:2,type:"earning",description:"Cairo → Alexandria trip (2 passengers)",date:"Oct 1, 2025",amount:70,status:"Completed"},{id:3,type:"payment",description:"Riyadh → Jeddah with Sarah Mohammed",date:"Sep 30, 2025",amount:120,status:"Pending"},{id:4,type:"earning",description:"Amman → Aqaba trip (3 passengers)",date:"Sep 28, 2025",amount:105,status:"Completed"},{id:5,type:"payment",description:"Added funds to wallet",date:"Sep 25, 2025",amount:200,status:"Completed"}];function V(){const[f,c]=m.useState(!1),[t,x]=m.useState(""),[o,h]=m.useState(!1),v=async()=>{if(!t||isNaN(Number(t))||Number(t)<=0){l.error("Please enter a valid amount");return}h(!0);try{(await fetch("/make-server-0b1f4071/payments/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:Number(t),payment_method_id:"pm_123",booking_id:null})})).ok?(l.success(`Successfully added $${t} to wallet`),c(!1),x("")):l.error("Payment failed")}catch{l.error("An error occurred")}finally{h(!1)}};return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Payments & Wallet"}),e.jsx("p",{className:"text-gray-600",children:"Manage your transactions and balance"})]}),e.jsxs(C,{open:f,onOpenChange:c,children:[e.jsx(w,{asChild:!0,children:e.jsxs(a,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Add Funds"]})}),e.jsxs(A,{children:[e.jsx(D,{children:e.jsx(S,{children:"Add Funds to Wallet"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Amount (USD)"}),e.jsx(P,{type:"number",placeholder:"0.00",value:t,onChange:s=>x(s.target.value)})]}),e.jsx("div",{className:"p-4 bg-muted rounded-lg",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"This is a secure transaction processed by Stripe."})})]}),e.jsxs(T,{children:[e.jsx(a,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsxs(a,{onClick:v,disabled:o,children:[o&&e.jsx(M,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirm Payment"]})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs(r,{className:"md:col-span-1",children:[e.jsx(i,{children:e.jsx(n,{className:"text-base",children:"Wallet Balance"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-4xl text-primary",children:"$250.00"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{size:"sm",className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground",children:"Add Funds"}),e.jsx(a,{size:"sm",variant:"outline",className:"flex-1",children:"Withdraw"})]})]})})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(n,{className:"text-base",children:"This Month"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Spent"})]}),e.jsx("div",{className:"text-2xl",children:"$215.00"}),e.jsx("p",{className:"text-sm text-gray-500",children:"5 trips"})]})})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(n,{className:"text-base",children:"Earnings"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Earned"})]}),e.jsx("div",{className:"text-2xl",children:"$180.00"}),e.jsx("p",{className:"text-sm text-gray-500",children:"3 rides offered"})]})})]})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Payment Methods"}),e.jsx(p,{children:"Manage your cards and payment options"})]}),e.jsxs(a,{variant:"outline",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Add Card"]})]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:F.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(b,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["•••• ",s.last4]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[s.isDefault&&e.jsx(j,{variant:"outline",children:"Default"}),e.jsx(a,{variant:"ghost",size:"sm",children:"Remove"})]})]},s.id))})})]}),e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(n,{children:"Transaction History"}),e.jsx(p,{children:"Your recent payments and earnings"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:L.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border-b last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.type==="earning"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s.type==="earning"?e.jsx(g,{className:"w-5 h-5"}):e.jsx(y,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.description}),e.jsx("p",{className:"text-sm text-gray-500",children:s.date})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-medium ${s.type==="earning"?"text-green-700":"text-red-700"}`,children:[s.type==="earning"?"+":"-","$",s.amount]}),e.jsx(j,{variant:"outline",className:"mt-1",children:s.status})]})]},s.id))})})]})]})}export{V as Payments};
