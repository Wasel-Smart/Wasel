import{r as m,j as e}from"./vendor-ui-jVyU-rC5.js";import{c as S,g as P,C as x,P as y,f as d,B as u,x as R,t as p}from"./index-BMnkv4Hv.js";import{P as I}from"./phone-WRmhWrkP.js";import{M as q}from"./mail-DYzQXEyP.js";import{F as B}from"./file-text-B0ocBsPD.js";import{C as _}from"./camera-CHGWtT0W.js";import{S as v}from"./shield-Cbg0e8HE.js";import{C as i}from"./circle-check-big-BLDqpBX-.js";import{C as D}from"./circle-alert-ik8fi0eq.js";import{C as b}from"./clock-WK390USG.js";import"./vendor-react-7PqXWhc5.js";import"./vendor-utils-CADQ8aCF.js";import"./vendor-supabase-b92lme3K.js";import"./vendor-animation-BozBRtxF.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],k=S("upload",U);function Q(){const[a,C]=m.useState([{id:"phone",name:"Phone Number",nameAr:"رقم الهاتف",description:"Verify your phone number via SMS",descriptionAr:"تحقق من رقم هاتفك عبر الرسائل القصيرة",icon:I,status:"approved",required:!0},{id:"email",name:"Email Address",nameAr:"البريد الإلكتروني",description:"Verify your email address",descriptionAr:"تحقق من عنوان بريدك الإلكتروني",icon:q,status:"approved",required:!0},{id:"national_id",name:"National ID / Emirates ID",nameAr:"بطاقة الهوية الوطنية / هوية الإمارات",description:"Upload a photo of your government-issued ID",descriptionAr:"قم بتحميل صورة من بطاقة الهوية الحكومية",icon:P,status:"pending",required:!0},{id:"drivers_license",name:"Driver's License",nameAr:"رخصة القيادة",description:"Required to offer rides as a driver",descriptionAr:"مطلوب لتقديم الرحلات كسائق",icon:B,status:"not_started",required:!1},{id:"selfie",name:"Selfie Verification",nameAr:"التحقق بالصورة الشخصية",description:"Take a selfie to verify your identity",descriptionAr:"التقط صورة شخصية للتحقق من هويتك",icon:_,status:"rejected",required:!0,rejectionReason:"Image quality too low. Please retake in good lighting."}]),[l,n]=m.useState(0),f=a.filter(s=>s.status==="approved").length,j=f/a.length*100,t=m.useRef(null);m.useEffect(()=>()=>{t.current&&(window.clearInterval(t.current),t.current=null)},[]);const g=s=>{const c=a.find(r=>r.id===s);c&&(s==="phone"||s==="email"?p.success(`${c.name} verification sent!`):(n(0),t.current=window.setInterval(async()=>{n(r=>{if(r>=90){t.current&&(window.clearInterval(t.current),t.current=null);const A=`https://storage.supabase.co/${s}-${Date.now()}.jpg`,N={"Content-Type":"application/json"};if(typeof window<"u"){const o=localStorage.getItem("supabase.auth.token");o&&(N.Authorization=`Bearer ${o}`)}return fetch("/make-server-0b1f4071/verification/submit",{method:"POST",headers:N,body:JSON.stringify({document_url:A,document_type:s})}).then(o=>{o.ok?(C(z=>z.map(h=>h.id===s?{...h,status:"pending"}:h)),n(100),p.success("Document uploaded! Verification in progress.")):(p.error("Verification submission failed"),n(0))}).catch(()=>{p.error("Verification submission failed"),n(0)}),90}return r+10})},200)))},w=s=>{switch(s){case"approved":return e.jsxs(d,{className:"bg-green-600 text-white gap-1",children:[e.jsx(i,{className:"size-3"})," Verified"]});case"pending":return e.jsxs(d,{variant:"outline",className:"gap-1",children:[e.jsx(b,{className:"size-3"})," Pending"]});case"rejected":return e.jsxs(d,{variant:"destructive",className:"gap-1",children:[e.jsx(R,{className:"size-3"})," Rejected"]});default:return e.jsx(d,{variant:"outline",children:"Not Started"})}},V=s=>{switch(s){case"approved":return"text-green-600";case"pending":return"text-amber-600";case"rejected":return"text-red-600";default:return"text-muted-foreground"}};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"size-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{children:"Verification Center"}),e.jsx("p",{className:"text-muted-foreground",children:"Complete your profile verification to unlock all features"}),e.jsx("p",{className:"text-muted-foreground text-sm",dir:"rtl",children:"أكمل التحقق من ملفك الشخصي لفتح جميع الميزات"})]})]}),e.jsxs(x,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Verification Progress"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[f," of ",a.length," completed"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-semibold text-primary",children:[Math.round(j),"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete"})]})]}),e.jsx(y,{value:j,className:"h-3"})]}),e.jsxs(x,{className:"p-6 bg-primary/5 border-primary",children:[e.jsx("h3",{className:"mb-3",children:"Why Verify Your Account?"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(i,{className:"size-5 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Build Trust"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Verified profiles get 3x more bookings"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(i,{className:"size-5 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Higher Rankings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Appear first in search results"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(i,{className:"size-5 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Unlock Features"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Access premium features and offers"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(i,{className:"size-5 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Safety Badge"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Display verified badge on your profile"})]})]})]})]}),e.jsx("div",{className:"space-y-4",children:a.map(s=>{const c=s.icon,r=V(s.status);return e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:`size-14 rounded-full bg-muted flex items-center justify-center flex-shrink-0 ${r}`,children:e.jsx(c,{className:"size-7"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("h3",{children:s.name}),s.required&&e.jsx(d,{variant:"outline",className:"text-xs",children:"Required"}),w(s.status)]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),e.jsx("p",{className:"text-sm text-muted-foreground",dir:"rtl",children:s.descriptionAr})]}),s.status==="rejected"&&s.rejectionReason&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[e.jsx(D,{className:"size-5 text-destructive mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-destructive",children:"Verification Rejected"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.rejectionReason})]})]}),l>0&&l<100&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Uploading..."}),e.jsxs("span",{children:[l,"%"]})]}),e.jsx(y,{value:l})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.status==="not_started"&&e.jsxs(u,{onClick:()=>g(s.id),children:[e.jsx(k,{className:"size-4 mr-2"}),"Start Verification"]}),s.status==="rejected"&&e.jsxs(u,{onClick:()=>g(s.id),children:[e.jsx(k,{className:"size-4 mr-2"}),"Retry Verification"]}),s.status==="pending"&&e.jsxs(u,{variant:"outline",disabled:!0,children:[e.jsx(b,{className:"size-4 mr-2"}),"Under Review (1-2 days)"]}),s.status==="approved"&&e.jsxs(u,{variant:"outline",disabled:!0,children:[e.jsx(i,{className:"size-4 mr-2"}),"Verified"]})]})]})]})},s.id)})}),e.jsx(x,{className:"p-6 bg-muted/50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(v,{className:"size-6 text-primary flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{children:"Your Privacy & Security"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All documents are encrypted and stored securely. We never share your personal information with other users. Verification is done by our trusted team and automated systems following strict privacy guidelines."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",dir:"rtl",children:"جميع المستندات مشفرة ومخزنة بشكل آمن. نحن لا نشارك معلوماتك الشخصية مع المستخدمين الآخرين أبدًا."})]})]})})]})}export{Q as VerificationCenter};
