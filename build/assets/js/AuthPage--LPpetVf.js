import{r as u,j as e}from"./vendor-ui-Cj-e85pn.js";import{c as g,u as B,B as h,C as D,a as E,L as z,b as W,d as _,e as G,t as l}from"./index-CcjVERrS.js";import{I as c}from"./input-Ddv6p358.js";import{L as i}from"./label-B97chKpM.js";import{T as V,a as $,b as f,c as y}from"./tabs-D2UP-FqT.js";import{A as w,O as b,a as C}from"./alert-DW75M-KQ.js";import{S as O}from"./smartphone-DRJrVNz5.js";import"./vendor-react-7PqXWhc5.js";import"./vendor-utils-MHJ_mICC.js";import"./vendor-supabase-BfzcFBqZ.js";import"./vendor-animation-BozBRtxF.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],U=g("arrow-left",R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],p=g("lock-keyhole",J);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],k=g("mail-check",K);function ie({onSuccess:j,onBack:F,initialTab:A="signup"}){const{signUp:L,signIn:S,signInWithGoogle:P,signInWithFacebook:I}=B(),[n,t]=u.useState(!1),[x,r]=u.useState(""),[a,o]=u.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),[d,v]=u.useState({email:"",password:""}),q=async s=>{if(s.preventDefault(),r(""),a.password!==a.confirmPassword){r("Passwords do not match");return}if(a.password.length<6){r("Password must be at least 6 characters");return}t(!0);try{const m=`${a.firstName} ${a.lastName}`,{error:N}=await L(a.email,a.password,m);N?(r(N.message||"Failed to create account"),l.error("Failed to create account")):(l.success("Account created successfully!"),j())}catch{r("An unexpected error occurred"),l.error("An unexpected error occurred")}finally{t(!1)}},H=async s=>{s.preventDefault(),r(""),t(!0);try{const{error:m}=await S(d.email,d.password);m?(r(m.message||"Failed to sign in"),l.error("Failed to sign in")):(l.success("Welcome back!"),j())}catch{r("An unexpected error occurred"),l.error("An unexpected error occurred")}finally{t(!1)}},M=async()=>{r(""),t(!0);try{const{error:s}=await P();s&&(r(s.message||"Failed to sign in with Google"),l.error("Failed to sign in with Google"),t(!1))}catch{r("An unexpected error occurred"),t(!1)}},T=async()=>{r(""),t(!0);try{const{error:s}=await I();s&&(r(s.message||"Failed to sign in with Facebook"),l.error("Failed to sign in with Facebook"),t(!1))}catch{r("An unexpected error occurred"),t(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-white to-secondary/5 flex items-center justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs(h,{variant:"ghost",onClick:F,className:"mb-6",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),e.jsxs(D,{className:"shadow-xl",children:[e.jsxs(E,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(z,{size:"xl",showText:!1})}),e.jsx(W,{className:"text-3xl",children:"Welcome to Wassel"}),e.jsx(_,{children:"واصل - Share Your Journey"})]}),e.jsxs(G,{children:[e.jsxs(V,{defaultValue:A,className:"w-full",children:[e.jsxs($,{className:"grid w-full grid-cols-2",children:[e.jsx(f,{value:"signup",children:"Sign Up"}),e.jsx(f,{value:"login",children:"Log In"})]}),e.jsxs(y,{value:"signup",children:[x&&e.jsxs(w,{variant:"destructive",className:"mt-4",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx(C,{children:x})]}),e.jsxs("form",{onSubmit:q,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"First Name"}),e.jsx(c,{placeholder:"Ahmed",required:!0,value:a.firstName,onChange:s=>o({...a,firstName:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Last Name"}),e.jsx(c,{placeholder:"Hassan",required:!0,value:a.lastName,onChange:s=>o({...a,lastName:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"email",placeholder:"ahmed@example.com",className:"pl-10",required:!0,value:a.email,onChange:s=>o({...a,email:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"tel",placeholder:"+971 50 123 4567",className:"pl-10",required:!0,value:a.phone,onChange:s=>o({...a,phone:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"password",placeholder:"••••••••",className:"pl-10",required:!0,value:a.password,onChange:s=>o({...a,password:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"password",placeholder:"••••••••",className:"pl-10",required:!0,value:a.confirmPassword,onChange:s=>o({...a,confirmPassword:s.target.value})})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"terms",className:"mt-1",required:!0}),e.jsx("label",{htmlFor:"terms",className:"text-sm text-gray-600",children:"I agree to Wassel's Terms of Service and Privacy Policy"})]}),e.jsx(h,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700",disabled:n,children:n?"Creating Account...":"Create Account"})]})]}),e.jsxs(y,{value:"login",children:[x&&e.jsxs(w,{variant:"destructive",className:"mt-4",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx(C,{children:x})]}),e.jsxs("form",{onSubmit:H,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"email",placeholder:"ahmed@example.com",className:"pl-10",required:!0,value:d.email,onChange:s=>v({...d,email:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{children:"Password"}),e.jsx("button",{type:"button",className:"text-sm text-teal-600 hover:text-teal-700",children:"Forgot?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(c,{type:"password",placeholder:"••••••••",className:"pl-10",required:!0,value:d.password,onChange:s=>v({...d,password:s.target.value})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"remember"}),e.jsx("label",{htmlFor:"remember",className:"text-sm text-gray-600",children:"Remember me"})]}),e.jsx(h,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700",disabled:n,children:n?"Signing In...":"Sign In"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[e.jsxs(h,{variant:"outline",type:"button",onClick:M,disabled:n,children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs(h,{variant:"outline",type:"button",onClick:T,disabled:n,children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.954 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]})]})]}),e.jsx("p",{className:"text-center text-sm text-gray-600 mt-6",children:"By signing up, you agree to our commitment to safe and sustainable travel"})]})})}export{ie as AuthPage};
