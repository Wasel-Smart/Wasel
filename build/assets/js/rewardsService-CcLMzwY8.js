import{y as d}from"./index-C4myuZdd.js";import"./vendor-ui-S1-b02vM.js";import"./vendor-react-7PqXWhc5.js";import"./vendor-utils-Drrw94dm.js";import"./vendor-supabase-DCWnlmhc.js";import"./vendor-animation-BozBRtxF.js";class i{async processTripRewards(s,r,e){const a=r==="scooter"?e*.12:e*.08,t=Math.floor(a*10);if(t<=0)return null;const{error:o}=await d.from("profiles").update({updated_at:new Date().toISOString()}).eq("id",s);return o&&console.error("Rewards update failed:",o),{creditsEarned:t,co2Saved:a}}async getUserRewards(s){const{data:r,error:e}=await d.from("profiles").select("rewards_credits, co2_saved_kg").eq("id",s).single();return e?{rewardsCredits:450,co2SavedKg:24.5}:{rewardsCredits:r.rewards_credits||0,co2SavedKg:r.co2_saved_kg||0}}}const m=new i;export{m as default,m as rewardsService};
