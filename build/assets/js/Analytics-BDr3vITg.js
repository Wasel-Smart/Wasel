import{j as e,r as g}from"./vendor-ui-S1-b02vM.js";import{T as X,a as Z,b as $,c as P}from"./tabs-B9Xs08FN.js";import{c as K,C as x,b as p,d as f,e as v,f as h,h as V,T,N as ee}from"./index-C4myuZdd.js";import{Z as te}from"./zap-aZRjv3J1.js";import{C as se}from"./circle-alert-X1n1Irhl.js";import{D as re}from"./dollar-sign-DikrS4HK.js";import{U as ae}from"./users-BYsldg1t.js";import{R as M,b as D,C as y,X as b,Y as N,T as w,L,c as R,B as ne,a as E,A as ie,f as oe}from"./vendor-charts-CXm97ZEa.js";import{T as ce}from"./target-CvcBMu8v.js";import"./vendor-react-7PqXWhc5.js";import"./vendor-utils-Drrw94dm.js";import"./vendor-supabase-DCWnlmhc.js";import"./vendor-animation-BozBRtxF.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],de=K("chart-line",le);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],he=K("chart-pie",xe);class ue{isDevelopment=!1;benchmarks={targetDauMauRatio:.45,targetMomUserGrowth:.35,targetMomRevenueGrowth:.5,targetD1Retention:.55,targetD7Retention:.35,targetD30Retention:.25,targetLtvCacRatio:3.5,targetKFactor:.75,targetMagicNumber:.75,targetNrr:1.2,targetPaybackMonths:6};calculateDauMauRatio(t,s){return s===0?0:t/s*100}calculateMomGrowth(t,s){return s===0?0:(t-s)/s*100}calculateRetention(t,s){return{d1:s.d1/t*100,d7:s.d7/t*100,d30:s.d30/t*100,d60:s.d60/t*100,d90:s.d90/t*100}}calculateCAC(t,s){return s===0?0:t/s}calculateLTV(t,s,r){if(r===0)return t*s*100;const n=1/r;return t*s*n}calculateLtvCacRatio(t,s){return s===0?0:t/s}calculatePaybackMonths(t,s,r){const n=s*r;return n===0?1/0:t/n}calculateKFactor(t,s){return t*(s/100)}calculateMagicNumber(t,s,r){return r===0?0:(t-s)*4/r}calculateNRR(t,s,r){return t===0?0:s/t*100}calculateBurnMultiple(t,s){return s===0?1/0:t/s}calculateAllMetrics(t){const s=this.calculateCAC(t.marketingSpend,t.newCustomers),r=this.calculateLTV(t.arpu,t.grossMargin,t.monthlyChurnRate),n=this.calculateLtvCacRatio(r,s),o=this.calculatePaybackMonths(s,t.arpu,t.grossMargin);return{dauMauRatio:this.calculateDauMauRatio(t.dau,t.mau),momUserGrowth:this.calculateMomGrowth(t.currentMonthUsers,t.previousMonthUsers),momRevenueGrowth:this.calculateMomGrowth(t.currentMonthRevenue,t.previousMonthRevenue),retention:t.cohortRetention,acquisition:{cac:s,ltv:r,ltvCacRatio:n,paybackMonths:o,kFactor:this.calculateKFactor(t.invitationsSentPerUser,t.referralConversionRate),organicPercentage:(t.newCustomers-t.marketingSpend/s)/t.newCustomers*100},magicNumber:this.calculateMagicNumber(t.quarterRevenue,t.previousQuarterRevenue,t.previousQuarterSmSpend),burnMultiple:this.calculateBurnMultiple(t.netBurn,t.netNewArr),nrr:this.calculateNRR(t.startingMrr,t.endingMrr,t.newCustomers*t.arpu),marketPenetration:t.mau/t.addressableMarket*100,addressableMarket:t.addressableMarket}}getBenchmarks(){return this.benchmarks}isInGrowthPhase(t){const s=[],r=[];t.momUserGrowth>25?s.push(!0):r.push(`MoM user growth ${t.momUserGrowth.toFixed(1)}% < 25% target`),t.retention.d30>20?s.push(!0):r.push(`D30 retention ${t.retention.d30.toFixed(1)}% < 20% target`),t.acquisition.ltvCacRatio>3?s.push(!0):r.push(`LTV:CAC ratio ${t.acquisition.ltvCacRatio.toFixed(2)}x < 3x target`),s.push(!0),t.acquisition.kFactor>.6?s.push(!0):r.push(`K-factor ${t.acquisition.kFactor.toFixed(2)} < 0.6 target`),t.momRevenueGrowth>t.momUserGrowth?s.push(!0):r.push(`Revenue growth ${t.momRevenueGrowth.toFixed(1)}% <= user growth ${t.momUserGrowth.toFixed(1)}%`),t.dauMauRatio>40?s.push(!0):r.push(`DAU/MAU ${t.dauMauRatio.toFixed(1)}% < 40% target`);const n=s.length/7*100,o=s.length>=5;return this.isDevelopment&&console.log("[GrowthMetrics] Health Check:",{isInGrowthPhase:o,score:n,issues:r}),{isInGrowthPhase:o,score:n,issues:r}}getRecommendations(t){const s=[];return t.dauMauRatio<40&&s.push("üî¥ CRITICAL: Improve app stickiness. Current DAU/MAU too low. Implement daily habit-forming features."),t.retention.d30<15&&s.push("üî¥ CRITICAL: D30 retention alarmingly low. Redesign onboarding or core product."),t.acquisition.ltvCacRatio<2.5&&s.push("üü° HIGH: LTV:CAC ratio below 2.5x. Either increase prices/ARPU or reduce CAC."),t.acquisition.paybackMonths>12&&s.push("üü° HIGH: Payback period >12 months is unsustainable. Optimize CAC or increase ARPU."),t.acquisition.kFactor<.5&&s.push("üü° MEDIUM: Viral coefficient weak. Strengthen referral program or word-of-mouth loop."),t.magicNumber<.5&&s.push("üü° MEDIUM: Magic number low (<0.5). Reduce S&M spend or focus on revenue expansion."),t.nrr<100&&s.push("üîµ LOW: NRR <100%. Losing customers faster than acquiring. Focus on retention."),s.length>0?s:["‚úÖ All metrics strong. Continue current strategy."]}}const k=new ue;function me({metrics:a,historicalData:t=[]}){const s=k.getBenchmarks(),r=k.isInGrowthPhase(a),n=k.getRecommendations(a),o=(l,c,i=!0)=>i?l>=c?"text-green-600":l>=c*.8?"text-yellow-600":"text-red-600":l<=c?"text-green-600":l<=c*1.2?"text-yellow-600":"text-red-600",u=(l,c,i=!0)=>i?l>=c?"bg-green-50":l>=c*.8?"bg-yellow-50":"bg-red-50":l<=c?"bg-green-50":l<=c*1.2?"bg-yellow-50":"bg-red-50",m=[{day:"D1",retention:a.retention.d1},{day:"D7",retention:a.retention.d7},{day:"D30",retention:a.retention.d30},{day:"D60",retention:a.retention.d60},{day:"D90",retention:a.retention.d90}];return a.acquisition.cac,a.acquisition.ltv,a.acquisition.kFactor*100,e.jsxs("div",{className:"space-y-6",children:[e.jsxs(x,{className:`border-2 ${r.score>=70?"border-green-300":r.score>=40?"border-yellow-300":"border-red-300"}`,children:[e.jsx(p,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"Growth Phase Health Check"]}),e.jsx(v,{children:r.isInGrowthPhase?"‚úÖ In Growth Phase":"‚ö†Ô∏è Not yet in growth phase"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-3xl font-bold ${o(r.score,70)}`,children:[r.score.toFixed(0),"%"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.score>=5?"5+":r.score.toFixed(0)," metrics met"]})]})]})}),r.issues.length>0&&e.jsx(h,{children:e.jsx("div",{className:"space-y-2",children:r.issues.map((l,c)=>e.jsxs("div",{className:"flex gap-2 text-sm text-red-600",children:[e.jsx(se,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:l})]},c))})})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(x,{className:u(a.dauMauRatio,s.targetDauMauRatio),children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"DAU/MAU Ratio"}),e.jsx(V,{variant:"outline",children:"Stickiness"})]}),e.jsxs("div",{className:`text-3xl font-bold ${o(a.dauMauRatio,s.targetDauMauRatio)}`,children:[a.dauMauRatio.toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Target: ",s.targetDauMauRatio.toFixed(1),"%"]})]})})}),e.jsx(x,{className:u(a.momUserGrowth,s.targetMomUserGrowth),children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"MoM User Growth"}),e.jsx(T,{className:"h-4 w-4"})]}),e.jsxs("div",{className:`text-3xl font-bold ${o(a.momUserGrowth,s.targetMomUserGrowth)}`,children:[a.momUserGrowth.toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Target: ",s.targetMomUserGrowth.toFixed(1),"%"]})]})})}),e.jsx(x,{className:u(a.acquisition.ltvCacRatio,s.targetLtvCacRatio),children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"LTV:CAC"}),e.jsx(re,{className:"h-4 w-4"})]}),e.jsxs("div",{className:`text-3xl font-bold ${o(a.acquisition.ltvCacRatio,s.targetLtvCacRatio)}`,children:[a.acquisition.ltvCacRatio.toFixed(1),"x"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Target: >",s.targetLtvCacRatio.toFixed(1),"x"]})]})})}),e.jsx(x,{className:u(a.acquisition.kFactor,s.targetKFactor),children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"K-Factor (Viral)"}),e.jsx(ae,{className:"h-4 w-4"})]}),e.jsx("div",{className:`text-3xl font-bold ${o(a.acquisition.kFactor,s.targetKFactor)}`,children:a.acquisition.kFactor.toFixed(2)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Target: >",s.targetKFactor.toFixed(2)]})]})})})]}),e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Retention Curve (Cohort Analysis)"}),e.jsx(v,{children:"What % of users stay active after N days"})]}),e.jsx(h,{children:e.jsx(M,{width:"100%",height:300,children:e.jsxs(D,{data:m,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(b,{dataKey:"day"}),e.jsx(N,{label:{value:"Retention %",angle:-90,position:"insideLeft"}}),e.jsx(w,{}),e.jsx(L,{}),e.jsx(R,{type:"monotone",dataKey:"retention",stroke:"#3b82f6",strokeWidth:2,name:"Retention %",dot:{r:4}}),e.jsx(R,{type:"monotone",dataKey:()=>s.targetD30Retention*100,stroke:"#ef4444",strokeDasharray:"5 5",name:"D30 Target (25%)",dot:!1})]})})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(f,{children:"Acquisition Economics"})}),e.jsx(h,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"CAC (Customer Acquisition Cost)"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",a.acquisition.cac.toFixed(0)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"LTV (Lifetime Value)"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",a.acquisition.ltv.toFixed(0)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Payback Period"}),e.jsxs("p",{className:"text-2xl font-bold",children:[a.acquisition.paybackMonths.toFixed(1)," months"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Target: <6 months"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Organic Acquisition"}),e.jsxs("p",{className:"text-2xl font-bold",children:[Math.max(0,a.acquisition.organicPercentage).toFixed(0),"%"]})]})]})})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(f,{children:"Efficiency Metrics"})}),e.jsx(h,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Magic Number"}),e.jsx("p",{className:`text-2xl font-bold ${o(a.magicNumber,1)}`,children:a.magicNumber.toFixed(2)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Target: >0.75"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Burn Multiple"}),e.jsxs("p",{className:`text-2xl font-bold ${o(a.burnMultiple,1.5,!1)}`,children:[a.burnMultiple.toFixed(2),"x"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Target: <1.5x"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"NRR"}),e.jsxs("p",{className:`text-2xl font-bold ${o(a.nrr,120)}`,children:[a.nrr.toFixed(0),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Target: >120%"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Market Penetration"}),e.jsxs("p",{className:"text-2xl font-bold",children:[a.marketPenetration.toFixed(2),"%"]})]})]})})]})]}),e.jsxs(x,{className:"border-blue-200 bg-blue-50",children:[e.jsx(p,{children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Action Items"]})}),e.jsx(h,{children:e.jsx("ul",{className:"space-y-2",children:n.map((l,c)=>e.jsxs("li",{className:"flex gap-2 text-sm",children:[e.jsx("span",{className:"flex-shrink-0",children:l.split(":")[0]}),e.jsx("span",{className:"text-muted-foreground",children:l.split(":")[1]})]},c))})})]}),t.length>1&&e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Growth Trajectory"}),e.jsx(v,{children:"Historical user & revenue growth"})]}),e.jsx(h,{children:e.jsx(M,{width:"100%",height:300,children:e.jsxs(ne,{data:t,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(b,{dataKey:"month"}),e.jsx(N,{yAxisId:"left",label:{value:"Users",angle:-90,position:"insideLeft"}}),e.jsx(N,{yAxisId:"right",orientation:"right",label:{value:"Revenue ($K)",angle:90,position:"insideRight"}}),e.jsx(w,{}),e.jsx(L,{}),e.jsx(E,{yAxisId:"left",dataKey:"users",fill:"#3b82f6",name:"Users"}),e.jsx(E,{yAxisId:"right",dataKey:"revenue",fill:"#10b981",name:"Revenue ($K)"})]})})})]})]})}class pe{isDevelopment=!1;defaultConfig={initialUsers:1e4,marketPotential:5e7,innovationCoefficient:.02,imitationCoefficient:.4,months:120,aiOptimizationMonth:13};phases=[{name:"introduction",monthRange:[1,12],characteristics:["High burn rate","User acquisition focus","Minimal profitability","Seed funding round"],avgGrowthRate:15,profitMargin:-.8},{name:"growth",monthRange:[13,36],characteristics:["Explosive revenue growth","Network effects amplify value","Driver incentives to reduce churn","Expansion to intercity routes","Series A/B funding"],avgGrowthRate:25,profitMargin:.15},{name:"maturity",monthRange:[37,72],characteristics:["Market saturation","Steady profits","Focus on retention & diversification","Subscription models & loyalty programs"],avgGrowthRate:10,profitMargin:.4},{name:"decline",monthRange:[73,120],characteristics:["Potential disruption by competitors","Revenue decline if not innovating","Harvest profits or pivot","Acquisition/merger candidates"],avgGrowthRate:2,profitMargin:.25}];bassModel(t,s,r){const{innovationCoefficient:n,imitationCoefficient:o,marketPotential:u}=r,m=n*(u-s),l=o*(s/u)*(u-s);return m+l}calculateCosts(t,s,r,n){const m=t*2,l=s>=r.aiOptimizationMonth?.8:1;return(5e5+m)*l+n}calculateRevenue(t,s){const r=1+Math.log10(Math.max(t,100))/10;return t*s*r}calculateGMV(t,s,r){return t*s*r}simulateLifecycle(t){const s={...this.defaultConfig,...t},r=[];let n=s.initialUsers,o=1e5,u=s.initialUsers,m=0,l=30;for(let c=1;c<=s.months;c++){const d=this.bassModel(c,n,s);n=Math.max(0,n+d*1);const H=Math.floor(n*.35),q=5/Math.sqrt(Math.max(c,1)),C=l*(1+c/12*.1),F=this.getPhase(c);let G=.2;F==="growth"?G=.15:F==="maturity"?G=.1:F==="decline"&&(G=.05);const j=this.calculateRevenue(n,C);o=j*G;const I=8,O=C/I,z=this.calculateGMV(n,I,O),B=this.calculateCosts(n,c,s,o),W=j-B,J=u>0?(n-u)/u*100:0,A=o>0?o/Math.max(n-u,1):0,S=C*12*(1/Math.max(q,.01)),Y=A>0?S/A:0,_=c>1?j/m*100:100,Q=c>1?(j-m)*4/(o||1):0;r.push({month:c,users:Math.floor(n),dau:H,revenue:Math.round(j),profit:Math.round(W),gmv:Math.round(z),costs:Math.round(B),marketingSpend:Math.round(o),arpu:Math.round(C*100)/100,churnRate:Math.round(q*100)/100,phase:F,growthRate:Math.round(J*100)/100,keyMetrics:{cac:Math.round(A*100)/100,ltv:Math.round(S*100)/100,ltvCacRatio:Math.round(Y*100)/100,nrr:Math.round(_*100)/100,magicNumber:Math.round(Q*100)/100}}),u=n,m=j}return this.isDevelopment&&console.log("[EconomicLifecycle] Simulation complete:",{months:s.months,finalUsers:Math.floor(n),totalProfit:r.reduce((c,i)=>c+i.profit,0)}),r}getPhase(t){return t<=12?"introduction":t<=36?"growth":t<=72?"maturity":"decline"}getPhaseCharacteristics(t){return this.phases.find(s=>s.name===t)||this.phases[0]}getSummaryByPhase(t){const s={};return this.phases.forEach(r=>{const n=t.filter(o=>o.month>=r.monthRange[0]&&o.month<=r.monthRange[1]);if(n.length>0){const o=n.reduce((i,d)=>i+d.profit,0),u=n.reduce((i,d)=>i+d.users,0)/n.length,m=n.reduce((i,d)=>i+d.revenue,0)/n.length,l=o/n.length,c=n.reduce((i,d)=>i+d.growthRate,0)/n.length;s[r.name]={avgUsers:Math.round(u),avgRevenue:Math.round(m),avgProfit:Math.round(l),avgGrowthRate:Math.round(c*100)/100,totalMonths:n.length,totalProfit:Math.round(o)}}}),s}getPhaseRecommendations(t){return{introduction:["üéØ Focus: User acquisition at any cost ratio","üí∞ Seek seed funding ($1-3M)","ü§ù Build partnerships with local taxi operators","üîí Implement biometrics and blockchain for trust","‚ôªÔ∏è Multi-modal integration (bikes/scooters) for user base","üì± Optimize for mobile (70% of users on 3G/4G)"],growth:["üìä Leverage data analytics for demand forecasting","üöó Implement driver incentive programs to reduce churn","üåç Expand to intercity routes (Amman ‚Üî Aqaba)","ü§ñ Deploy AI/ML for 60-70% destination prediction accuracy","üõ£Ô∏è Route optimization: reduce idle time by 20%","üöô Begin AV integration pilots (autonomous vehicles)"],maturity:["üë• Focus on retention via loyalty programs","üí≥ Introduce subscription models","üì¶ Add delivery services as add-ons","üåê Monitor NRR (>120% = expansion revenue)","üîÑ Diversify service offerings (insurance, financing)","üéÅ Implement advanced referral mechanics"],decline:["üí° Innovate or pivot to adjacent markets","ü§ù Explore M&A (acquisition targets)","üí∞ Harvest profits and reduce costs","üîí Invest in fraud prevention & analytics","üå± Test new markets or customer segments","üöÄ Consider quantum tech for complex optimizations"]}[t]||[]}findBreakEvenMonth(t){for(let s=0;s<t.length;s++)if(t[s].profit>=0)return t[s].month;return null}compareToMENABenchmarks(t,s){const r=t.find(o=>o.month===s);if(!r)return null;const n={month12:{users:1e5,revenue:1e6},month24:{users:5e5,revenue:5e6,momUserGrowth:35},month36:{users:2e6,revenue:2e7,momUserGrowth:20}};return{actual:r,benchmarks:n,comparison:{usersVsBenchmark:r.users/(n[`month${s}`]?.users||1),revenueVsBenchmark:r.revenue/(n[`month${s}`]?.revenue||1)}}}}const U=new pe;function fe({simulationData:a}){const t=g.useMemo(()=>a||U.simulateLifecycle(),[a]),s=g.useMemo(()=>U.getSummaryByPhase(t),[t]),r=g.useMemo(()=>U.findBreakEvenMonth(t),[t]),n={introduction:"#f97316",growth:"#3b82f6",maturity:"#10b981",decline:"#ef4444"},o=t.map(i=>({...i,usersM:i.users/1e6,revenueM:i.revenue/1e6,profitM:i.profit/1e6})),u=t[11],m=t[23],l=t[35],c=t[t.length-1];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(s).map(([i,d])=>e.jsxs(x,{className:"border-2",style:{borderColor:n[i]+"40"},children:[e.jsx(p,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(f,{className:"capitalize",children:[i," Phase"]}),e.jsxs(V,{style:{backgroundColor:n[i]},children:[d.totalMonths," months"]})]})}),e.jsxs(h,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Avg Users"}),e.jsxs("p",{className:"text-lg font-bold",children:[(d.avgUsers/1e6).toFixed(2),"M"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Avg Revenue"}),e.jsxs("p",{className:"text-lg font-bold",children:["$",(d.avgRevenue/1e6).toFixed(1),"M"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Avg Profit"}),e.jsxs("p",{className:`text-lg font-bold ${d.avgProfit>=0?"text-green-600":"text-red-600"}`,children:["$",(d.avgProfit/1e6).toFixed(1),"M"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Growth Rate"}),e.jsxs("p",{className:"text-lg font-bold",children:[d.avgGrowthRate.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Profit"}),e.jsxs("p",{className:`text-xl font-bold ${d.totalProfit>=0?"text-green-600":"text-red-600"}`,children:["$",(d.totalProfit/1e6).toFixed(1),"M"]})]})]})]},i))}),r&&e.jsx(x,{className:"bg-green-50 border-green-200",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Break-even achieved at"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["Month ",r]})]}),e.jsx(T,{className:"h-12 w-12 text-green-500 opacity-50"})]})})}),e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"User Growth Trajectory (Bass Model)"}),e.jsx(v,{children:"Cumulative users over 10-year period with S-curve adoption"})]}),e.jsx(h,{children:e.jsx(M,{width:"100%",height:350,children:e.jsxs(ie,{data:o,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorUsers",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(b,{dataKey:"month",label:{value:"Months",position:"insideBottomRight",offset:-5}}),e.jsx(N,{label:{value:"Users (Millions)",angle:-90,position:"insideLeft"}}),e.jsx(w,{formatter:i=>`${Number(i).toFixed(2)}M users`,labelFormatter:i=>`Month ${i}`}),e.jsx(oe,{type:"monotone",dataKey:"usersM",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorUsers)"}),e.jsx("line",{x1:"12",y1:"0",x2:"12",y2:"100%",stroke:"#f97316",strokeDasharray:"5",opacity:.3}),e.jsx("line",{x1:"36",y1:"0",x2:"36",y2:"100%",stroke:"#10b981",strokeDasharray:"5",opacity:.3}),e.jsx("line",{x1:"72",y1:"0",x2:"72",y2:"100%",stroke:"#ef4444",strokeDasharray:"5",opacity:.3})]})})})]}),e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Revenue vs Profit Trajectory"}),e.jsx(v,{children:"Monthly revenue and profit margins"})]}),e.jsx(h,{children:e.jsx(M,{width:"100%",height:350,children:e.jsxs(D,{data:o,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(b,{dataKey:"month"}),e.jsx(N,{yAxisId:"left",label:{value:"Revenue & Profit ($M)",angle:-90,position:"insideLeft"}}),e.jsx(w,{formatter:i=>`$${Number(i).toFixed(1)}M`}),e.jsx(L,{}),e.jsx(R,{yAxisId:"left",type:"monotone",dataKey:"revenueM",stroke:"#10b981",strokeWidth:2,name:"Revenue",dot:!1}),e.jsx(R,{yAxisId:"left",type:"monotone",dataKey:"profitM",stroke:"#3b82f6",strokeWidth:2,name:"Profit",dot:!1})]})})})]}),e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Month-over-Month Growth Rate"}),e.jsx(v,{children:"Showing phase transitions: Introduction > Growth > Maturity > Decline"})]}),e.jsx(h,{children:e.jsx(M,{width:"100%",height:300,children:e.jsxs(D,{data:o,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(b,{dataKey:"month"}),e.jsx(N,{label:{value:"Growth %",angle:-90,position:"insideLeft"}}),e.jsx(w,{formatter:i=>`${Number(i).toFixed(1)}%`}),e.jsx(R,{type:"monotone",dataKey:"growthRate",stroke:"#f97316",strokeWidth:2,name:"MoM Growth"})]})})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(f,{className:"text-base",children:"Month 12 (End of Introduction)"})}),e.jsxs(h,{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Users:"}),e.jsxs("span",{className:"font-bold",children:[(u.users/1e6).toFixed(2),"M"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Revenue:"}),e.jsxs("span",{className:"font-bold",children:["$",(u.revenue/1e6).toFixed(1),"M"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Profit:"}),e.jsxs("span",{className:`font-bold ${u.profit>=0?"text-green-600":"text-red-600"}`,children:["$",(u.profit/1e6).toFixed(1),"M"]})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[e.jsx("span",{className:"text-muted-foreground",children:"CAC:"}),e.jsxs("span",{className:"font-bold",children:["$",u.keyMetrics.cac.toFixed(0)]})]})]})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(f,{className:"text-base",children:"Month 24 (Growth Phase)"})}),e.jsxs(h,{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Users:"}),e.jsxs("span",{className:"font-bold",children:[(m.users/1e6).toFixed(2),"M"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Revenue:"}),e.jsxs("span",{className:"font-bold",children:["$",(m.revenue/1e6).toFixed(1),"M"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Profit:"}),e.jsxs("span",{className:`font-bold ${m.profit>=0?"text-green-600":"text-red-600"}`,children:["$",(m.profit/1e6).toFixed(1),"M"]})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[e.jsx("span",{className:"text-muted-foreground",children:"LTV:CAC:"}),e.jsxs("span",{className:"font-bold",children:[m.keyMetrics.ltvCacRatio.toFixed(1),"x"]})]})]})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(f,{className:"text-base",children:"Month 36 (End of Growth)"})}),e.jsxs(h,{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Users:"}),e.jsxs("span",{className:"font-bold",children:[(l.users/1e6).toFixed(2),"M"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Revenue:"}),e.jsxs("span",{className:"font-bold",children:["$",(l.revenue/1e6).toFixed(1),"M"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Profit:"}),e.jsxs("span",{className:`font-bold ${l.profit>=0?"text-green-600":"text-red-600"}`,children:["$",(l.profit/1e6).toFixed(1),"M"]})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[e.jsx("span",{className:"text-muted-foreground",children:"NRR:"}),e.jsxs("span",{className:"font-bold",children:[l.keyMetrics.nrr.toFixed(0),"%"]})]})]})]})]}),e.jsxs(x,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:[e.jsx(p,{children:e.jsx(f,{children:"10-Year Projection Summary"})}),e.jsx(h,{children:e.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Final Users"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(c.users/1e6).toFixed(1),"M"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cumulative Revenue"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(t.reduce((i,d)=>i+d.revenue,0)/1e9).toFixed(1),"B"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cumulative Profit"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",(t.reduce((i,d)=>i+d.profit,0)/1e9).toFixed(1),"B"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Market Penetration"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(c.users/5e7*100).toFixed(2),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Profit Margin"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(t.reduce((i,d)=>i+d.profit/d.revenue,0)/t.length*100).toFixed(1),"%"]})]})]})})]})]})}function Ae(){const[a,t]=g.useState("growth-metrics"),s=g.useMemo(()=>k.calculateAllMetrics({dau:5e4,mau:12e4,currentMonthUsers:12e4,previousMonthUsers:1e5,currentMonthRevenue:5e5,previousMonthRevenue:35e4,cohortRetention:{d1:55,d7:35,d30:22,d60:15,d90:10},marketingSpend:8e4,newCustomers:2e4,arpu:5,grossMargin:.6,monthlyChurnRate:.05,invitationsSentPerUser:2,referralConversionRate:15,quarterRevenue:15e5,previousQuarterRevenue:1e6,previousQuarterSmSpend:2e5,startingMrr:4e5,endingMrr:5e5,netBurn:-5e4,netNewArr:12e5,addressableMarket:5e7}),[]),r=g.useMemo(()=>U.simulateLifecycle({initialUsers:1e5,marketPotential:5e7,months:120}),[]),n=g.useMemo(()=>[{month:"Jun 2025",dau:3e4,mau:8e4,revenue:25e4,users:8e4},{month:"Jul 2025",dau:35e3,mau:9e4,revenue:3e5,users:9e4},{month:"Aug 2025",dau:4e4,mau:1e5,revenue:35e4,users:1e5},{month:"Sep 2025",dau:45e3,mau:11e4,revenue:4e5,users:11e4},{month:"Oct 2025",dau:48e3,mau:115e3,revenue:45e4,users:115e3},{month:"Nov 2025",dau:5e4,mau:12e4,revenue:5e5,users:12e4}],[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(ee,{className:"h-8 w-8"}),"Growth Analytics & Economic Forecasting"]}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Real-time growth metrics with 10-year economic lifecycle projections using Bass Diffusion Model"})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(x,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Current DAU"}),e.jsx("p",{className:"text-3xl font-bold",children:"50K"}),e.jsx("p",{className:"text-xs text-green-600",children:"‚Üë 8% vs last month"})]})})}),e.jsx(x,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Revenue"}),e.jsx("p",{className:"text-3xl font-bold",children:"$500K"}),e.jsx("p",{className:"text-xs text-green-600",children:"‚Üë 43% vs last month"})]})})}),e.jsx(x,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"D30 Retention"}),e.jsx("p",{className:"text-3xl font-bold",children:"22%"}),e.jsx("p",{className:"text-xs",children:"vs 25% target"})]})})}),e.jsx(x,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Growth Health"}),e.jsx("p",{className:"text-3xl font-bold",children:"71%"}),e.jsx("p",{className:"text-xs text-yellow-600",children:"5/7 metrics strong"})]})})})]}),e.jsxs(X,{value:a,onValueChange:t,className:"w-full",children:[e.jsxs(Z,{className:"grid w-full grid-cols-3",children:[e.jsxs($,{value:"growth-metrics",className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),"Growth Metrics"]}),e.jsxs($,{value:"economic-lifecycle",className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"Economic Lifecycle"]}),e.jsxs($,{value:"benchmarks",className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4"}),"Benchmarks"]})]}),e.jsx(P,{value:"growth-metrics",className:"space-y-6 mt-6",children:e.jsx(me,{metrics:s,historicalData:n})}),e.jsx(P,{value:"economic-lifecycle",className:"space-y-6 mt-6",children:e.jsx(fe,{simulationData:r})}),e.jsx(P,{value:"benchmarks",className:"space-y-6 mt-6",children:e.jsx(ge,{metrics:s})})]})]})}function ge({metrics:a}){const t=k.getBenchmarks(),s=[{metric:"DAU/MAU Ratio (Stickiness)",current:`${a.dauMauRatio.toFixed(1)}%`,target:`${t.targetDauMauRatio.toFixed(1)}%`,status:a.dauMauRatio>=t.targetDauMauRatio?"‚úÖ":"‚ö†Ô∏è",description:">40% = strong, >60% = viral"},{metric:"MoM User Growth",current:`${a.momUserGrowth.toFixed(1)}%`,target:`${t.targetMomUserGrowth.toFixed(1)}%`,status:a.momUserGrowth>=t.targetMomUserGrowth?"‚úÖ":"‚ö†Ô∏è",description:"20-50% = healthy, >50% = hyper-growth"},{metric:"MoM Revenue Growth",current:`${a.momRevenueGrowth.toFixed(1)}%`,target:`${t.targetMomRevenueGrowth.toFixed(1)}%`,status:a.momRevenueGrowth>=t.targetMomRevenueGrowth?"‚úÖ":"‚ö†Ô∏è",description:"30-100% = rocket ship"},{metric:"D30 Retention",current:`${a.retention.d30.toFixed(1)}%`,target:`${t.targetD30Retention.toFixed(1)}%`,status:a.retention.d30>=t.targetD30Retention?"‚úÖ":"‚ö†Ô∏è",description:">25% = world-class"},{metric:"LTV:CAC Ratio",current:`${a.acquisition.ltvCacRatio.toFixed(1)}x`,target:`${t.targetLtvCacRatio.toFixed(1)}x`,status:a.acquisition.ltvCacRatio>=t.targetLtvCacRatio?"‚úÖ":"‚ö†Ô∏è",description:">3x = break-even ~10 months"},{metric:"K-Factor (Viral)",current:`${a.acquisition.kFactor.toFixed(2)}`,target:`${t.targetKFactor.toFixed(2)}`,status:a.acquisition.kFactor>=t.targetKFactor?"‚úÖ":"‚ö†Ô∏è",description:">1.0 = truly viral, >0.6 + paid = excellent"},{metric:"Payback Period",current:`${a.acquisition.paybackMonths.toFixed(1)} mo`,target:`${t.targetPaybackMonths.toFixed(0)} mo`,status:a.acquisition.paybackMonths<=t.targetPaybackMonths?"‚úÖ":"‚ö†Ô∏è",description:"<6 months = ideal, <4 = elite"},{metric:"Magic Number",current:`${a.magicNumber.toFixed(2)}`,target:`${t.targetMagicNumber.toFixed(2)}`,status:a.magicNumber>=t.targetMagicNumber?"‚úÖ":"‚ö†Ô∏è",description:">0.75 = good, >1.0 = excellent"},{metric:"NRR (Net Revenue Retention)",current:`${a.nrr.toFixed(0)}%`,target:`${t.targetNrr.toFixed(0)}%`,status:a.nrr>=t.targetNrr?"‚úÖ":"‚ö†Ô∏è",description:">120% = amazing expansion growth"},{metric:"Burn Multiple",current:`${a.burnMultiple.toFixed(2)}x`,target:`<${t.targetPaybackMonths.toFixed(1)}x`,status:a.burnMultiple<=1.5?"‚úÖ":"‚ö†Ô∏è",description:"<1.5x = elite, <2x = good"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(f,{children:"Jordan/MENA 2026 Growth Benchmarks"})}),e.jsx(h,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2 px-2",children:"Metric"}),e.jsx("th",{className:"text-right py-2 px-2",children:"Current"}),e.jsx("th",{className:"text-right py-2 px-2",children:"Target"}),e.jsx("th",{className:"text-center py-2 px-2",children:"Status"}),e.jsx("th",{className:"text-left py-2 px-2",children:"Context"})]})}),e.jsx("tbody",{children:s.map((r,n)=>e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsx("td",{className:"py-3 px-2 font-medium",children:r.metric}),e.jsx("td",{className:"text-right py-3 px-2 font-bold",children:r.current}),e.jsx("td",{className:"text-right py-3 px-2",children:r.target}),e.jsx("td",{className:"text-center py-3 px-2",children:r.status}),e.jsx("td",{className:"py-3 px-2 text-muted-foreground text-xs",children:r.description})]},n))})]})})})]}),e.jsxs(x,{className:"bg-blue-50 border-blue-200",children:[e.jsx(p,{children:e.jsx(f,{children:"MENA Market Context (2025-2026)"})}),e.jsxs(h,{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:e.jsx("strong",{children:"Typical growth for top Jordanian apps:"})}),e.jsxs("ul",{className:"text-sm space-y-2 list-disc list-inside",children:[e.jsx("li",{children:"40-100% MoM user growth for first 12-18 months"}),e.jsx("li",{children:"D30 retention: 22-35% (versus 25% industry baseline)"}),e.jsx("li",{children:"LTV:CAC: 3.5-5x (CAC lower but LTV also lower than US)"}),e.jsx("li",{children:"30-70% MoM revenue growth typical for YC-level apps"}),e.jsx("li",{children:"Break-even achievable by month 12-18 for well-funded apps"})]}),e.jsxs("p",{className:"text-sm mt-4",children:[e.jsx("strong",{children:"Market size:"})," ~50M addressable users across MENA (Egypt, Saudi, UAE, Jordan, etc.)"]})]})]})]})}export{Ae as Analytics};
