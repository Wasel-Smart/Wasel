import{r as n,j as e}from"./vendor-ui-Cj-e85pn.js";import{m,C as g,e as j,a as D,b as G,d as I,B as p,t as h}from"./index-CcjVERrS.js";import{I as l}from"./input-Ddv6p358.js";import{L as i}from"./label-B97chKpM.js";import{S as U,a as V,b as W,c as H,d as $}from"./select-DH616wKS.js";import{C as q}from"./OfferRide-B1tdicRu.js";import{I as Y}from"./ImageWithFallback-BXhro6IC.js";import{S as J}from"./ServiceTabs-C83qva6r.js";import{d as K}from"./mockDataService-DJyhFZ5B.js";import{S as v}from"./school-CXg8DBOp.js";import{S as Q}from"./shield-Dqn7Jb-_.js";import{B as X}from"./bell-DG-nrDhA.js";import{M as _}from"./map-pin-21VTRKgg.js";import{U as Z}from"./users-DZ8_1Qfh.js";import{C as ee}from"./calendar-DjkArY17.js";import{C as B}from"./clock-iW9B5bRn.js";import{U as ae}from"./user-CepTgA6U.js";import{C as se}from"./circle-check-big-WiTnYXyY.js";import{C as re}from"./circle-alert-MpyPCaBN.js";import"./vendor-react-7PqXWhc5.js";import"./vendor-utils-MHJ_mICC.js";import"./vendor-supabase-BfzcFBqZ.js";import"./vendor-animation-BozBRtxF.js";import"./textarea-C6rKv1yA.js";import"./radio-group-DDKZM0rL.js";import"./switch-BG20DIwS.js";import"./MapComponent-g7d2Sjwu.js";import"./locate-xuYQlw9c.js";import"./circle-plus-BManEY-l.js";import"./radar-BK5b3NjJ.js";import"./calendar-clock-dUuAvE3b.js";import"./timer-Ce2ubCpr.js";import"./users-round-DpiWu3Z6.js";import"./circle-dollar-sign-_n3ostGX.js";import"./trending-up-DSJOFEjr.js";import"./truck-D8AletTN.js";import"./tabs-D2UP-FqT.js";import"./PackageDelivery-g11er5qz.js";import"./scan-search-Ckl5QvF_.js";import"./FindRide-BlhS1DtU.js";import"./dialog-s8Ut11eA.js";import"./avatar-CAJM6KJj.js";import"./sparkles-Cwd9zFOr.js";import"./smartphone-DRJrVNz5.js";import"./useTrips-Bl4biaeF.js";import"./move-right-D41Gu36Q.js";import"./search-BWqgo9Xa.js";function Qe(){const[x,S]=n.useState("round-trip"),[o,k]=n.useState([]),[y,w]=n.useState(""),[f,C]=n.useState(""),[N,T]=n.useState(""),[P,A]=n.useState(""),[u,F]=n.useState([]),[r,c]=n.useState({guardians:[]}),R=["Monday","Tuesday","Wednesday","Thursday","Friday"],L=a=>{F(s=>s.includes(a)?s.filter(t=>t!==a):[...s,a])},z=()=>{r.name&&r.age&&r.grade?(k([...o,r]),c({guardians:[]}),h.success("Student added successfully")):h.error("Please fill in all student details")},M=()=>{if(r.guardians){const a={name:"",relationship:"",phone:""};c({...r,guardians:[...r.guardians,a]})}},b=(a,s,t)=>{if(r.guardians){const d=[...r.guardians];d[a]={...d[a],[s]:t},c({...r,guardians:d})}},E=async()=>{if(!o.length||!y||!f||!N||!u.length){h.error("Please fill in all required fields");return}try{const a=u.map(async s=>{const t=new Date,d=["Monday","Tuesday","Wednesday","Thursday","Friday"].indexOf(s);return t.setDate(t.getDate()+(d-t.getDay()+7)%7),K.createTrip({from:y,to:f,departure_date:t.toISOString().split("T")[0],departure_time:N,trip_type:x==="round-trip"?"raje3":"wasel",price_per_seat:25,total_seats:o.length,available_seats:o.length,preferences:{smoking_allowed:!1,pets_allowed:!1,music_allowed:!1}})});await Promise.all(a),h.success(`School transport booking submitted for ${u.length} day(s)! You will receive confirmation via SMS.`),k([]),w(""),C(""),T(""),A(""),F([]),c({guardians:[]})}catch(a){h.error(a.message||"Failed to book school transport")}},O=e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-yellow-400 via-amber-500 to-orange-600 p-8 md:p-12 text-white",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",children:e.jsx(Y,{src:"https://images.unsplash.com/photo-1685645647479-a0232f3fec6d",alt:"School transport",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs(m.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"inline-flex items-center gap-3 bg-white/20 backdrop-blur-xl px-6 py-3 rounded-full mb-6",children:[e.jsx(v,{className:"w-6 h-6"}),e.jsx("span",{className:"font-semibold",children:"Safe School Transport"})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Safe & Reliable Student Transport"}),e.jsx("p",{className:"text-xl opacity-90 max-w-2xl",children:"Background-checked drivers, real-time tracking, and guardian notifications for complete peace of mind."})]}),e.jsx(m.div,{animate:{y:[0,-20,0],rotate:[0,5,-5,0]},transition:{duration:5,repeat:1/0},className:"absolute top-10 right-10 text-8xl opacity-30",children:"ðŸšŒ"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{icon:Q,label:"Background Checks",color:"text-green-600"},{icon:X,label:"Live Notifications",color:"text-blue-600"},{icon:_,label:"Real-time Tracking",color:"text-purple-600"},{icon:Z,label:"Guardian Verified",color:"text-orange-600"}].map((a,s)=>e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},children:e.jsx(g,{className:"border-2 hover:shadow-lg transition-all duration-300 hover:scale-105",children:e.jsxs(j,{className:"p-6 text-center",children:[e.jsx(a.icon,{className:`w-8 h-8 mx-auto mb-2 ${a.color}`}),e.jsx("p",{className:"text-sm font-medium",children:a.label})]})})},a.label))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(g,{className:"border-2",children:[e.jsxs(D,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-amber-600"}),"Trip Details"]}),e.jsx(I,{children:"Configure your school transport schedule"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Trip Type"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(p,{variant:x==="one-way"?"default":"outline",onClick:()=>S("one-way"),className:"flex-1",children:"One-Way"}),e.jsx(p,{variant:x==="round-trip"?"default":"outline",onClick:()=>S("round-trip"),className:"flex-1",children:"Round-Trip"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"pickup",children:"Home/Pickup Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx(l,{id:"pickup",placeholder:"Enter pickup address",value:y,onChange:a=>w(a.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"school",children:"School Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx(l,{id:"school",placeholder:"Enter school address",value:f,onChange:a=>C(a.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"pickup-time",children:"Pickup Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx(l,{id:"pickup-time",type:"time",value:N,onChange:a=>T(a.target.value),className:"pl-10"})]})]}),x==="round-trip"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"return-time",children:"Return Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx(l,{id:"return-time",type:"time",value:P,onChange:a=>A(a.target.value),className:"pl-10"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Active Days"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:R.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{id:a,checked:u.includes(a),onCheckedChange:()=>L(a)}),e.jsx("label",{htmlFor:a,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:a.slice(0,3)})]},a))})]})]})]}),e.jsxs(g,{className:"border-2",children:[e.jsxs(D,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5 text-blue-600"}),"Student & Guardian Information"]}),e.jsx(I,{children:"Add students and authorized guardians"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"student-name",children:"Student Name"}),e.jsx(l,{id:"student-name",placeholder:"Full name",value:r.name||"",onChange:a=>c({...r,name:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"age",children:"Age"}),e.jsx(l,{id:"age",type:"number",placeholder:"Age",value:r.age||"",onChange:a=>c({...r,age:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"grade",children:"Grade"}),e.jsxs(U,{value:r.grade||"",onValueChange:a=>c({...r,grade:a}),children:[e.jsx(V,{id:"grade",children:e.jsx(W,{placeholder:"Select"})}),e.jsx(H,{children:[...Array(12)].map((a,s)=>e.jsxs($,{value:`Grade ${s+1}`,children:["Grade ",s+1]},s+1))})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{children:"Authorized Guardians"}),e.jsx(p,{variant:"outline",size:"sm",onClick:M,children:"+ Add Guardian"})]}),r.guardians?.map((a,s)=>e.jsxs("div",{className:"grid grid-cols-3 gap-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx(l,{placeholder:"Name",value:a.name,onChange:t=>b(s,"name",t.target.value)}),e.jsx(l,{placeholder:"Relationship",value:a.relationship,onChange:t=>b(s,"relationship",t.target.value)}),e.jsx(l,{placeholder:"Phone",value:a.phone,onChange:t=>b(s,"phone",t.target.value)})]},s))]}),e.jsx(p,{onClick:z,variant:"outline",className:"w-full",children:"Add Student to Booking"}),o.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Added Students (",o.length,")"]}),e.jsx("div",{className:"space-y-2",children:o.map((a,s)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx(se,{className:"w-4 h-4 text-green-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:a.name}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[a.age," yrs â€¢ ",a.grade," â€¢ ",a.guardians.length," guardian(s)"]})]})]},s))})]})]})]})]}),e.jsx(g,{className:"border-l-4 border-l-amber-500",children:e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(re,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold",children:"Safety & Verification"}),e.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[e.jsx("li",{children:"â€¢ All drivers undergo comprehensive background checks and child safety training"}),e.jsx("li",{children:"â€¢ Real-time GPS tracking shared with all authorized guardians"}),e.jsx("li",{children:"â€¢ In-vehicle cameras for student safety (optional)"}),e.jsx("li",{children:"â€¢ Daily attendance reports sent via SMS and email"}),e.jsx("li",{children:"â€¢ Only authorized guardians can pick up students"})]})]})]})})}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(p,{onClick:E,className:"w-full h-14 text-lg bg-gradient-to-r from-yellow-500 via-amber-600 to-orange-600 hover:from-yellow-600 hover:via-amber-700 hover:to-orange-700 shadow-lg",children:[e.jsx(v,{className:"w-5 h-5 mr-2"}),"Book School Transport"]})})]});return e.jsx(J,{mainService:O,mainServiceTitle:"School Transport",mainServiceIcon:e.jsx(v,{className:"w-4 h-4"}),showAllTabs:!0})}export{Qe as SchoolTransport};
